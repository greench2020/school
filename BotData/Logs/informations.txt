2022-11-24 23:59:46.654 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-24 23:59:46.656 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-24 23:59:57.105 | INFO     | __main__:lessons_attachment:630 - {'id': 147896789, 'assignmentName': '╨б╨╝╨╛╤В╤А╨╕╤В╨╡ ╨┐╨╛╨┤╤А╨╛╨▒╨╜╨╛╤Б╤В╨╕ ╨┤╨╗╤П ╤Г╤З╨╡╨╜╨╕╨║╨╛╨▓', 'activityName': None, 'problemName': None, 'subjectGroup': {'id': 3272062, 'name': '11*/╨д╨╕╨╖╨╕╨║╨░/11╨░'}, 'teachers': [{'id': 577974, 'name': '╨Ь╨░╤А╤З╨╡╨╜╨║╨╛ ╨Р╨╜╨╜╨░ ╨Т╨░╤Б╨╕╨╗╤М╨╡╨▓╨╜╨░'}], 'productId': None, 'isDeleted': False, 'weight': 10, 'date': '2022-11-24T00:00:00', 'description': '╨Я╨╡╤А╨╡╨╝╨╡╨╜╨╜╤Л╨╣ ╤В╨╛╨║ ╨╕ ╨▓╨╕╨┤╤Л ╤Б╨╛╨┐╤А╨╛╤В╨╕╨▓╨╗╨╡╨╜╨╕╨╣ ╨▓ ╤Ж╨╡╨┐╨╕ ╨┐╨╡╤А╨╡╨╝╨╡╨╜╨╜╨╛╨│╨╛ ╤В╨╛╨║╨░ - ╨┐╨╛ ╨║╨╛╨╜╤Б╨┐╨╡╨║╤В╤Г ╨▓ ╤В╨╡╤В╤А╨░╨┤╨╕', 'attachments': []} 359707430
2022-11-25 00:01:32.312 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-25 00:20:31.903 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-25 00:20:31.909 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-25 23:32:01.495 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-25 23:32:12.838 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-25 23:32:12.840 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-25 23:35:17.044 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-25 23:35:23.681 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-25 23:35:23.683 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-25 23:39:59.534 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-25 23:40:05.481 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-25 23:40:05.483 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-25 23:40:29.132 | ERROR    | vkbottle.exception_factory.error_handler.error_handler:handle:48 - list index out of range
Traceback (most recent call last):

  File "school_bot.py", line 1163, in <module>
    bot.run_forever()
    │   └ <function Bot.run_forever at 0x7ff44b710700>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7ff44ab78ac0>

  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/framework/bot/bot.py", line 92, in run_forever
    self.loop_wrapper.run_forever(self.loop)
    │    │            │           │    └ <property object at 0x7ff44ac378b0>
    │    │            │           └ <vkbottle.framework.bot.bot.Bot object at 0x7ff44ab78ac0>
    │    │            └ <function LoopWrapper.run_forever at 0x7ff448e50ee0>
    │    └ <vkbottle.tools.dev.loop_wrapper.LoopWrapper object at 0x7ff44ab78cd0>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7ff44ab78ac0>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/tools/dev/loop_wrapper.py", line 50, in run_forever
    loop.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7ff44e80bdc0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7ff44e80e940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7ff4522e7280>
    └ <Handle <TaskStepMethWrapper object at 0x7ff44b7892b0>()>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x7ff44b7892b0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x7ff44b7892b0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x7ff44b7892b0>()>
> File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/base.py", line 22, in route
    await view.handle_event(event, ctx_api, self.state_dispenser)
          │    │            │      │        │    └ <vkbottle.dispatch.dispenser.builtin.BuiltinStateDispenser object at 0x7ff44ab78e80>
          │    │            │      │        └ <vkbottle.dispatch.base.Router object at 0x7ff44ab78f70>
          │    │            │      └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
          │    │            └ {'group_id': 215988653, 'type': 'message_new', 'event_id': '23f8155b2757188649844de377ae27e2c26da43e', 'v': '5.131', 'object'...
          │    └ <function ABCMessageView.handle_event at 0x7ff449181430>
          └ <BotMessageView handlers=[<FromFuncHandler logged_menu blocking=True rules=(<PeerRule>, <PayloadRule>)>, <FromFuncHandler hom...
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/views/abc/message.py", line 73, in handle_event
    handler_response = await handler.handle(message, **context_variables)
                             │       │      │          └ {}
                             │       │      └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=12834, date=1669408828, deleted=None, f...
                             │       └ <function FromFuncHandler.handle at 0x7ff4491dcf70>
                             └ <FromFuncHandler lessons_attachment blocking=True rules=(<PeerRule>, <PayloadRule>)>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/handlers/from_func_handler.py", line 32, in handle
    return await self.handler(event, **acceptable_context)
                 │    │       │        └ {}
                 │    │       └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=12834, date=1669408828, deleted=None, f...
                 │    └ <function lessons_attachment at 0x7ff44ab6c0d0>
                 └ <FromFuncHandler lessons_attachment blocking=True rules=(<PeerRule>, <PayloadRule>)>

  File "school_bot.py", line 614, in lessons_attachment
    data[lesson.subject] = lesson.assignments[0].id
    │    │      │          │      └ []
    │    │      │          └ Lesson(day=datetime.date(2022, 11, 26), start=datetime.time(12, 20), end=datetime.time(13, 0), number=6, room=None, subject='...
    │    │      └ 'Физическая культура'
    │    └ Lesson(day=datetime.date(2022, 11, 26), start=datetime.time(12, 20), end=datetime.time(13, 0), number=6, room=None, subject='...
    └ {'Астрономия': 147929672, 'История': 147989080, 'Родной язык (русский)': 147589064, 'Математика': 147990716, 'Элективный курс...

IndexError: list index out of range
2022-11-25 23:41:20.862 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-25 23:41:27.533 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-25 23:41:27.535 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-25 23:41:44.656 | INFO     | __main__:lessons_attachment:631 - {'id': 147929672, 'assignmentName': 'Смотрите подробности для учащихся', 'activityName': None, 'problemName': None, 'subjectGroup': {'id': 3240575, 'name': '11*/Астрономия/11а'}, 'teachers': [{'id': 577974, 'name': 'Марченко Анна Васильевна'}], 'productId': None, 'isDeleted': False, 'weight': 10, 'date': '2022-11-26T00:00:00', 'description': 'В прикрепленном файле дан тест по теме последнего урока. Тест выполняют учащиеся, пропустившие урок 19 ноября на листке  (эта работа закроет одну из ваших точек в дневнике).   Все остальные учащиеся - выполняют тест по желанию.', 'attachments': [{'id': 4934165, 'name': 'ТЕСТ Развитие представлений о строении мира 11 класс.docx', 'originalFileName': 'ТЕСТ Развитие представлений о строении мира 11 класс.docx', 'description': None}]} 359707430
2022-11-26 07:36:20.179 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-26 07:36:20.184 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-26 17:24:23.563 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-26 17:24:35.386 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-26 17:24:35.387 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-26 17:24:38.451 | ERROR    | vkbottle.exception_factory.error_handler.error_handler:handle:48 - list index out of range
Traceback (most recent call last):

  File "school_bot.py", line 1190, in <module>
    bot.run_forever()
    │   └ <function Bot.run_forever at 0x7fb9a0a90700>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7fb9a055ae50>

  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/framework/bot/bot.py", line 92, in run_forever
    self.loop_wrapper.run_forever(self.loop)
    │    │            │           │    └ <property object at 0x7fb9a014bea0>
    │    │            │           └ <vkbottle.framework.bot.bot.Bot object at 0x7fb9a055ae50>
    │    │            └ <function LoopWrapper.run_forever at 0x7fb99e5c3ee0>
    │    └ <vkbottle.tools.dev.loop_wrapper.LoopWrapper object at 0x7fb9a053e0a0>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7fb9a055ae50>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/tools/dev/loop_wrapper.py", line 50, in run_forever
    loop.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7fb9a3f7ddc0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7fb9a3f80940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7fb9a7a1a280>
    └ <Handle <TaskStepMethWrapper object at 0x7fb9a0ed4fa0>()>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x7fb9a0ed4fa0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x7fb9a0ed4fa0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x7fb9a0ed4fa0>()>
> File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/base.py", line 22, in route
    await view.handle_event(event, ctx_api, self.state_dispenser)
          │    │            │      │        │    └ <vkbottle.dispatch.dispenser.builtin.BuiltinStateDispenser object at 0x7fb9a053e250>
          │    │            │      │        └ <vkbottle.dispatch.base.Router object at 0x7fb9a053e340>
          │    │            │      └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
          │    │            └ {'group_id': 215988653, 'type': 'message_new', 'event_id': '8b151ff408d8073a5a02ffcf91731414f1164193', 'v': '5.131', 'object'...
          │    └ <function ABCMessageView.handle_event at 0x7fb99e8f3430>
          └ <BotMessageView handlers=[<FromFuncHandler logged_menu blocking=True rules=(<PeerRule>, <PayloadRule>)>, <FromFuncHandler hom...
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/views/abc/message.py", line 73, in handle_event
    handler_response = await handler.handle(message, **context_variables)
                             │       │      │          └ {}
                             │       │      └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=12864, date=1669472678, deleted=None, f...
                             │       └ <function FromFuncHandler.handle at 0x7fb99e94ef70>
                             └ <FromFuncHandler announcements blocking=True rules=(<PeerRule>, <VBMLRule>)>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/handlers/from_func_handler.py", line 32, in handle
    return await self.handler(event, **acceptable_context)
                 │    │       │        └ {}
                 │    │       └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=12864, date=1669472678, deleted=None, f...
                 │    └ <function announcements at 0x7fb9a056a820>
                 └ <FromFuncHandler announcements blocking=True rules=(<PeerRule>, <VBMLRule>)>

  File "school_bot.py", line 993, in announcements
    sgo_login, sgo_password, output_type, site, school = user[2], user[3], user[4], user[7], user[8]
                                                         │        │        │        │        └ [(8, 359707430, 'КрупенкоП', '1906785321a', 'Изображение', 'Павел', 'Крупенко', 'https://sgo.volganet.ru/', 'МОУ гимназия № 1...
                                                         │        │        │        └ [(8, 359707430, 'КрупенкоП', '1906785321a', 'Изображение', 'Павел', 'Крупенко', 'https://sgo.volganet.ru/', 'МОУ гимназия № 1...
                                                         │        │        └ [(8, 359707430, 'КрупенкоП', '1906785321a', 'Изображение', 'Павел', 'Крупенко', 'https://sgo.volganet.ru/', 'МОУ гимназия № 1...
                                                         │        └ [(8, 359707430, 'КрупенкоП', '1906785321a', 'Изображение', 'Павел', 'Крупенко', 'https://sgo.volganet.ru/', 'МОУ гимназия № 1...
                                                         └ [(8, 359707430, 'КрупенкоП', '1906785321a', 'Изображение', 'Павел', 'Крупенко', 'https://sgo.volganet.ru/', 'МОУ гимназия № 1...

IndexError: list index out of range
2022-11-26 17:24:56.892 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-26 17:25:03.093 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-26 17:25:03.095 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-26 17:26:16.465 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-26 17:26:22.188 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-26 17:26:22.189 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-26 17:26:24.847 | ERROR    | vkbottle.exception_factory.error_handler.error_handler:handle:48 - string indices must be integers
Traceback (most recent call last):

  File "school_bot.py", line 1192, in <module>
    bot.run_forever()
    │   └ <function Bot.run_forever at 0x7f0be0931940>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7f0be07ebc70>

  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/framework/bot/bot.py", line 92, in run_forever
    self.loop_wrapper.run_forever(self.loop)
    │    │            │           │    └ <property object at 0x7f0be09f1680>
    │    │            │           └ <vkbottle.framework.bot.bot.Bot object at 0x7f0be07ebc70>
    │    │            └ <function LoopWrapper.run_forever at 0x7f0bdf632160>
    │    └ <vkbottle.tools.dev.loop_wrapper.LoopWrapper object at 0x7f0be07ebe80>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7f0be07ebc70>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/tools/dev/loop_wrapper.py", line 50, in run_forever
    loop.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f0be5c59dc0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f0be5c5c940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f0be96f6280>
    └ <Handle <TaskStepMethWrapper object at 0x7f0be08c1af0>()>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x7f0be08c1af0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x7f0be08c1af0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x7f0be08c1af0>()>
> File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/base.py", line 22, in route
    await view.handle_event(event, ctx_api, self.state_dispenser)
          │    │            │      │        │    └ <vkbottle.dispatch.dispenser.builtin.BuiltinStateDispenser object at 0x7f0be0b53070>
          │    │            │      │        └ <vkbottle.dispatch.base.Router object at 0x7f0be0b53160>
          │    │            │      └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
          │    │            └ {'group_id': 215988653, 'type': 'message_new', 'event_id': '3480bb09b24f89345a36f987979ced79819a9e64', 'v': '5.131', 'object'...
          │    └ <function ABCMessageView.handle_event at 0x7f0bdf957670>
          └ <BotMessageView handlers=[<FromFuncHandler logged_menu blocking=True rules=(<PeerRule>, <PayloadRule>)>, <FromFuncHandler hom...
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/views/abc/message.py", line 73, in handle_event
    handler_response = await handler.handle(message, **context_variables)
                             │       │      │          └ {}
                             │       │      └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=12869, date=1669472782, deleted=None, f...
                             │       └ <function FromFuncHandler.handle at 0x7f0bdf9bf1f0>
                             └ <FromFuncHandler announcements blocking=True rules=(<PeerRule>, <VBMLRule>)>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/handlers/from_func_handler.py", line 32, in handle
    return await self.handler(event, **acceptable_context)
                 │    │       │        └ {}
                 │    │       └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=12869, date=1669472782, deleted=None, f...
                 │    └ <function announcements at 0x7f0be0b42e50>
                 └ <FromFuncHandler announcements blocking=True rules=(<PeerRule>, <VBMLRule>)>

  File "school_bot.py", line 1005, in announcements
    file = await ns.download_attachment(attachment)
                 │  │                   └ {'id': 4935007, 'name': '_Памятка  осторожно тонкий лед.docx', 'originalFileName': '_Памятка  осторожно тонкий лед.docx', 'de...
                 │  └ <function NetSchoolAPI.download_attachment at 0x7f0be08268b0>
                 └ <netschoolapi.netschoolapi.NetSchoolAPI object at 0x7f0be0576be0>

  File "/home/greench/mlok/netschoolapi/netschoolapi.py", line 141, in download_attachment
    file = open(f"BotData/attachments/{attachment['name']}", 'wb')

TypeError: string indices must be integers
2022-11-26 17:27:40.308 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-26 17:27:45.895 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-26 17:27:45.897 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-26 17:27:56.793 | ERROR    | vkbottle.exception_factory.error_handler.error_handler:handle:48 - string indices must be integers
Traceback (most recent call last):

  File "school_bot.py", line 1192, in <module>
    bot.run_forever()
    │   └ <function Bot.run_forever at 0x7ff6b59fa940>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7ff6b61edee0>

  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/framework/bot/bot.py", line 92, in run_forever
    self.loop_wrapper.run_forever(self.loop)
    │    │            │           │    └ <property object at 0x7ff6b4dcb720>
    │    │            │           └ <vkbottle.framework.bot.bot.Bot object at 0x7ff6b61edee0>
    │    │            └ <function LoopWrapper.run_forever at 0x7ff6b3da6160>
    │    └ <vkbottle.tools.dev.loop_wrapper.LoopWrapper object at 0x7ff6b4d35130>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7ff6b61edee0>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/tools/dev/loop_wrapper.py", line 50, in run_forever
    loop.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7ff6ba3cddc0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7ff6ba3d1940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7ff6bde6a280>
    └ <Handle <TaskStepMethWrapper object at 0x7ff6b6184d60>()>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x7ff6b6184d60>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x7ff6b6184d60>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x7ff6b6184d60>()>
> File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/base.py", line 22, in route
    await view.handle_event(event, ctx_api, self.state_dispenser)
          │    │            │      │        │    └ <vkbottle.dispatch.dispenser.builtin.BuiltinStateDispenser object at 0x7ff6b4d352e0>
          │    │            │      │        └ <vkbottle.dispatch.base.Router object at 0x7ff6b4d353d0>
          │    │            │      └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
          │    │            └ {'group_id': 215988653, 'type': 'message_new', 'event_id': '1b7c813df6b7e2a650a60df4db053988c8a956f8', 'v': '5.131', 'object'...
          │    └ <function ABCMessageView.handle_event at 0x7ff6b40cd670>
          └ <BotMessageView handlers=[<FromFuncHandler logged_menu blocking=True rules=(<PeerRule>, <PayloadRule>)>, <FromFuncHandler hom...
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/views/abc/message.py", line 73, in handle_event
    handler_response = await handler.handle(message, **context_variables)
                             │       │      │          └ {}
                             │       │      └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=12870, date=1669472875, deleted=None, f...
                             │       └ <function FromFuncHandler.handle at 0x7ff6b41331f0>
                             └ <FromFuncHandler announcements blocking=True rules=(<PeerRule>, <VBMLRule>)>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/handlers/from_func_handler.py", line 32, in handle
    return await self.handler(event, **acceptable_context)
                 │    │       │        └ {}
                 │    │       └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=12870, date=1669472875, deleted=None, f...
                 │    └ <function announcements at 0x7ff6b4d33e50>
                 └ <FromFuncHandler announcements blocking=True rules=(<PeerRule>, <VBMLRule>)>

  File "school_bot.py", line 1005, in announcements
    file = await ns.download_attachment(dict(attachment))
                 │  │                        └ {'id': 4935007, 'name': '_Памятка  осторожно тонкий лед.docx', 'originalFileName': '_Памятка  осторожно тонкий лед.docx', 'de...
                 │  └ <function NetSchoolAPI.download_attachment at 0x7ff6b4d5b8b0>
                 └ <netschoolapi.netschoolapi.NetSchoolAPI object at 0x7ff6b529cee0>

  File "/home/greench/mlok/netschoolapi/netschoolapi.py", line 141, in download_attachment
    file = open(f"BotData/attachments/{attachment['name']}", 'wb')

TypeError: string indices must be integers
2022-11-26 17:28:49.832 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-26 17:28:56.053 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-26 17:28:56.054 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-26 17:28:57.462 | ERROR    | vkbottle.exception_factory.error_handler.error_handler:handle:48 - string indices must be integers
Traceback (most recent call last):

  File "school_bot.py", line 1192, in <module>
    bot.run_forever()
    │   └ <function Bot.run_forever at 0x7f7548265940>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7f7547671460>

  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/framework/bot/bot.py", line 92, in run_forever
    self.loop_wrapper.run_forever(self.loop)
    │    │            │           │    └ <property object at 0x7f7547d13540>
    │    │            │           └ <vkbottle.framework.bot.bot.Bot object at 0x7f7547671460>
    │    │            └ <function LoopWrapper.run_forever at 0x7f754665e160>
    │    └ <vkbottle.tools.dev.loop_wrapper.LoopWrapper object at 0x7f7547671670>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7f7547671460>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/tools/dev/loop_wrapper.py", line 50, in run_forever
    loop.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f754cc85dc0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f754cc88940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f7550722280>
    └ <Handle <TaskStepMethWrapper object at 0x7f7547c26280>()>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x7f7547c26280>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x7f7547c26280>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x7f7547c26280>()>
> File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/base.py", line 22, in route
    await view.handle_event(event, ctx_api, self.state_dispenser)
          │    │            │      │        │    └ <vkbottle.dispatch.dispenser.builtin.BuiltinStateDispenser object at 0x7f7547671820>
          │    │            │      │        └ <vkbottle.dispatch.base.Router object at 0x7f7547671910>
          │    │            │      └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
          │    │            └ {'group_id': 215988653, 'type': 'message_new', 'event_id': '213c3badc08f5a18bcef7615895da5801d65b405', 'v': '5.131', 'object'...
          │    └ <function ABCMessageView.handle_event at 0x7f7546984670>
          └ <BotMessageView handlers=[<FromFuncHandler logged_menu blocking=True rules=(<PeerRule>, <PayloadRule>)>, <FromFuncHandler hom...
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/views/abc/message.py", line 73, in handle_event
    handler_response = await handler.handle(message, **context_variables)
                             │       │      │          └ {}
                             │       │      └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=12871, date=1669472936, deleted=None, f...
                             │       └ <function FromFuncHandler.handle at 0x7f75469eb1f0>
                             └ <FromFuncHandler announcements blocking=True rules=(<PeerRule>, <VBMLRule>)>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/handlers/from_func_handler.py", line 32, in handle
    return await self.handler(event, **acceptable_context)
                 │    │       │        └ {}
                 │    │       └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=12871, date=1669472936, deleted=None, f...
                 │    └ <function announcements at 0x7f7548f04e50>
                 └ <FromFuncHandler announcements blocking=True rules=(<PeerRule>, <VBMLRule>)>

  File "school_bot.py", line 1005, in announcements
    file = await ns.download_attachment(dict(attachment))
                 │  │                        └ {'id': 4935007, 'name': '_Памятка  осторожно тонкий лед.docx', 'originalFileName': '_Памятка  осторожно тонкий лед.docx', 'de...
                 │  └ <function NetSchoolAPI.download_attachment at 0x7f754768e8b0>
                 └ <netschoolapi.netschoolapi.NetSchoolAPI object at 0x7f7548cfe3d0>

  File "/home/greench/mlok/netschoolapi/netschoolapi.py", line 141, in download_attachment
    file = open(f"BotData/attachments/{attachment['name']}", 'wb')

TypeError: string indices must be integers
2022-11-26 17:30:21.781 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-26 17:30:27.506 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-26 17:30:27.507 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-26 17:39:32.716 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-26 17:39:38.824 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-26 17:39:38.826 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-26 17:40:26.836 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-26 17:40:32.415 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-26 17:40:32.416 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-26 17:43:28.217 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-26 17:43:33.472 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-26 17:43:33.474 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-26 17:43:45.558 | ERROR    | vkbottle.exception_factory.error_handler.error_handler:handle:48 - 'NetSchoolAPI' object has no attribute 'download_attachment_as_bytes'
Traceback (most recent call last):

  File "school_bot.py", line 1194, in <module>
    bot.run_forever()
    │   └ <function Bot.run_forever at 0x7f2897ff8940>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7f2897c2c3d0>

  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/framework/bot/bot.py", line 92, in run_forever
    self.loop_wrapper.run_forever(self.loop)
    │    │            │           │    └ <property object at 0x7f2897968d10>
    │    │            │           └ <vkbottle.framework.bot.bot.Bot object at 0x7f2897c2c3d0>
    │    │            └ <function LoopWrapper.run_forever at 0x7f2896713160>
    │    └ <vkbottle.tools.dev.loop_wrapper.LoopWrapper object at 0x7f2897c2c5e0>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7f2897c2c3d0>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/tools/dev/loop_wrapper.py", line 50, in run_forever
    loop.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f289cd3bdc0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f289cd3e940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f28a07d7280>
    └ <Handle <TaskStepMethWrapper object at 0x7f2897ceb1f0>()>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x7f2897ceb1f0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x7f2897ceb1f0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x7f2897ceb1f0>()>
> File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/base.py", line 22, in route
    await view.handle_event(event, ctx_api, self.state_dispenser)
          │    │            │      │        │    └ <vkbottle.dispatch.dispenser.builtin.BuiltinStateDispenser object at 0x7f2897c2c790>
          │    │            │      │        └ <vkbottle.dispatch.base.Router object at 0x7f2897c2c880>
          │    │            │      └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
          │    │            └ {'group_id': 215988653, 'type': 'message_new', 'event_id': 'd2b2d9508d30457a9d196a3598ba3b26f11197ba', 'v': '5.131', 'object'...
          │    └ <function ABCMessageView.handle_event at 0x7f2896a39670>
          └ <BotMessageView handlers=[<FromFuncHandler logged_menu blocking=True rules=(<PeerRule>, <PayloadRule>)>, <FromFuncHandler hom...
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/views/abc/message.py", line 73, in handle_event
    handler_response = await handler.handle(message, **context_variables)
                             │       │      │          └ {}
                             │       │      └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=12880, date=1669473824, deleted=None, f...
                             │       └ <function FromFuncHandler.handle at 0x7f2896aa01f0>
                             └ <FromFuncHandler announcements blocking=True rules=(<PeerRule>, <VBMLRule>)>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/handlers/from_func_handler.py", line 32, in handle
    return await self.handler(event, **acceptable_context)
                 │    │       │        └ {}
                 │    │       └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=12880, date=1669473824, deleted=None, f...
                 │    └ <function announcements at 0x7f2897c09e50>
                 └ <FromFuncHandler announcements blocking=True rules=(<PeerRule>, <VBMLRule>)>

  File "school_bot.py", line 1007, in announcements
    file = await ns.download_attachment_as_bytes(attachment)
                 │                               └ {'id': 4935007, 'name': '_Памятка  осторожно тонкий лед.docx', 'originalFileName': '_Памятка  осторожно тонкий лед.docx', 'de...
                 └ <netschoolapi.netschoolapi.NetSchoolAPI object at 0x7f2898b6e3d0>

AttributeError: 'NetSchoolAPI' object has no attribute 'download_attachment_as_bytes'
2022-11-26 17:44:10.377 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-26 17:44:16.148 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-26 17:44:16.149 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-26 17:44:36.027 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-26 18:59:02.710 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-26 18:59:02.712 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-26 18:59:14.394 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-26 19:40:19.552 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-26 19:40:19.554 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-26 19:40:24.516 | WARNING  | vkbottle.framework.bot.blueprint:__init__:22 - Blueprints was deprecated and will be removed in future releases, read about new code separation method in documentation: 
https://vkbottle.readthedocs.io/ru/latest/tutorial/code-separation/
2022-11-26 19:40:24.518 | ERROR    | vkbottle.exception_factory.error_handler.error_handler:handle:48 - [Errno 2] No such file or directory: 'BotData/attachments/_Памятка  осторожно тонкий лед.docx'
Traceback (most recent call last):

  File "school_bot.py", line 1186, in <module>
    bot.run_forever()
    │   └ <function Bot.run_forever at 0x7f9e7f0629d0>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7f9e7e18e490>

  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/framework/bot/bot.py", line 92, in run_forever
    self.loop_wrapper.run_forever(self.loop)
    │    │            │           │    └ <property object at 0x7f9e7e732e50>
    │    │            │           └ <vkbottle.framework.bot.bot.Bot object at 0x7f9e7e18e490>
    │    │            └ <function LoopWrapper.run_forever at 0x7f9e7d1e01f0>
    │    └ <vkbottle.tools.dev.loop_wrapper.LoopWrapper object at 0x7f9e7e18e6a0>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7f9e7e18e490>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/tools/dev/loop_wrapper.py", line 50, in run_forever
    loop.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f9e83807e50>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f9e8380a9d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f9e872a4310>
    └ <Handle <TaskStepMethWrapper object at 0x7f9e7e7c8070>()>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x7f9e7e7c8070>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x7f9e7e7c8070>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x7f9e7e7c8070>()>
> File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/base.py", line 22, in route
    await view.handle_event(event, ctx_api, self.state_dispenser)
          │    │            │      │        │    └ <vkbottle.dispatch.dispenser.builtin.BuiltinStateDispenser object at 0x7f9e7e18e850>
          │    │            │      │        └ <vkbottle.dispatch.base.Router object at 0x7f9e7e18e940>
          │    │            │      └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
          │    │            └ {'group_id': 215988653, 'type': 'message_new', 'event_id': 'f594f8aa01cabc734c6019350effb5d0ea7c5953', 'v': '5.131', 'object'...
          │    └ <function ABCMessageView.handle_event at 0x7f9e7d506700>
          └ <BotMessageView handlers=[<FromFuncHandler logged_menu blocking=True rules=(<PeerRule>, <PayloadRule>)>, <FromFuncHandler hom...
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/views/abc/message.py", line 73, in handle_event
    handler_response = await handler.handle(message, **context_variables)
                             │       │      │          └ {}
                             │       │      └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=12976, date=1669480821, deleted=None, f...
                             │       └ <function FromFuncHandler.handle at 0x7f9e7d56c280>
                             └ <FromFuncHandler announcements blocking=True rules=(<PeerRule>, <VBMLRule>)>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/handlers/from_func_handler.py", line 32, in handle
    return await self.handler(event, **acceptable_context)
                 │    │       │        └ {}
                 │    │       └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=12976, date=1669480821, deleted=None, f...
                 │    └ <function announcements at 0x7f9e7e188ee0>
                 └ <FromFuncHandler announcements blocking=True rules=(<PeerRule>, <VBMLRule>)>

  File "school_bot.py", line 1003, in announcements
    with open(f'BotData/attachments/{file["name"]}') as f:

FileNotFoundError: [Errno 2] No such file or directory: 'BotData/attachments/_Памятка  осторожно тонкий лед.docx'
2022-11-26 19:41:06.483 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-26 19:41:12.439 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-26 19:41:12.441 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-26 19:41:17.150 | WARNING  | vkbottle.framework.bot.blueprint:__init__:22 - Blueprints was deprecated and will be removed in future releases, read about new code separation method in documentation: 
https://vkbottle.readthedocs.io/ru/latest/tutorial/code-separation/
2022-11-26 19:41:17.166 | ERROR    | vkbottle.exception_factory.error_handler.error_handler:handle:48 - answer() got multiple values for argument 'message'
Traceback (most recent call last):

  File "school_bot.py", line 1186, in <module>
    bot.run_forever()
    │   └ <function Bot.run_forever at 0x7f3812609a60>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7f3811a344f0>

  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/framework/bot/bot.py", line 92, in run_forever
    self.loop_wrapper.run_forever(self.loop)
    │    │            │           │    └ <property object at 0x7f3811976810>
    │    │            │           └ <vkbottle.framework.bot.bot.Bot object at 0x7f3811a344f0>
    │    │            └ <function LoopWrapper.run_forever at 0x7f381077b280>
    │    └ <vkbottle.tools.dev.loop_wrapper.LoopWrapper object at 0x7f3811a34700>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7f3811a344f0>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/tools/dev/loop_wrapper.py", line 50, in run_forever
    loop.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f3816da3ee0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f3816da6a60>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f381a8403a0>
    └ <Handle <TaskStepMethWrapper object at 0x7f3812970b20>()>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x7f3812970b20>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x7f3812970b20>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x7f3812970b20>()>
> File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/base.py", line 22, in route
    await view.handle_event(event, ctx_api, self.state_dispenser)
          │    │            │      │        │    └ <vkbottle.dispatch.dispenser.builtin.BuiltinStateDispenser object at 0x7f3811a348b0>
          │    │            │      │        └ <vkbottle.dispatch.base.Router object at 0x7f3811a349a0>
          │    │            │      └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
          │    │            └ {'group_id': 215988653, 'type': 'message_new', 'event_id': 'c5e8be26f6a50d28d5a582034203d7ae4feb338b', 'v': '5.131', 'object'...
          │    └ <function ABCMessageView.handle_event at 0x7f3810a9f790>
          └ <BotMessageView handlers=[<FromFuncHandler logged_menu blocking=True rules=(<PeerRule>, <PayloadRule>)>, <FromFuncHandler hom...
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/views/abc/message.py", line 73, in handle_event
    handler_response = await handler.handle(message, **context_variables)
                             │       │      │          └ {}
                             │       │      └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=12977, date=1669480872, deleted=None, f...
                             │       └ <function FromFuncHandler.handle at 0x7f3810b07310>
                             └ <FromFuncHandler announcements blocking=True rules=(<PeerRule>, <VBMLRule>)>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/handlers/from_func_handler.py", line 32, in handle
    return await self.handler(event, **acceptable_context)
                 │    │       │        └ {}
                 │    │       └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=12977, date=1669480872, deleted=None, f...
                 │    └ <function announcements at 0x7f3811a5c040>
                 └ <FromFuncHandler announcements blocking=True rules=(<PeerRule>, <VBMLRule>)>

  File "school_bot.py", line 1007, in announcements
    await message.answer(message.from_id, 0, message=list_path)
          │       │      │       │                   └ ['/home/greench/mlok/BotData/attachments/{file["name"]}', '/home/greench/mlok/BotData/attachments/{file["name"]}', '/home/gre...
          │       │      │       └ 359707430
          │       │      └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=12977, date=1669480872, deleted=None, f...
          │       └ <function BaseMessageMin.answer at 0x7f381078fc10>
          └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=12977, date=1669480872, deleted=None, f...

TypeError: answer() got multiple values for argument 'message'
2022-11-26 19:41:59.627 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-26 19:42:05.633 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-26 19:42:05.635 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-26 19:42:10.291 | WARNING  | vkbottle.framework.bot.blueprint:__init__:22 - Blueprints was deprecated and will be removed in future releases, read about new code separation method in documentation: 
https://vkbottle.readthedocs.io/ru/latest/tutorial/code-separation/
2022-11-26 19:42:10.304 | ERROR    | vkbottle.exception_factory.error_handler.error_handler:handle:48 - answer() got multiple values for argument 'message'
Traceback (most recent call last):

  File "school_bot.py", line 1186, in <module>
    bot.run_forever()
    │   └ <function Bot.run_forever at 0x7f52c00969d0>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7f52c037f4f0>

  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/framework/bot/bot.py", line 92, in run_forever
    self.loop_wrapper.run_forever(self.loop)
    │    │            │           │    └ <property object at 0x7f52bf862bd0>
    │    │            │           └ <vkbottle.framework.bot.bot.Bot object at 0x7f52c037f4f0>
    │    │            └ <function LoopWrapper.run_forever at 0x7f52be7a41f0>
    │    └ <vkbottle.tools.dev.loop_wrapper.LoopWrapper object at 0x7f52c037f700>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7f52c037f4f0>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/tools/dev/loop_wrapper.py", line 50, in run_forever
    loop.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f52c4dcbe50>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f52c4dce9d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f52c8867310>
    └ <Handle <TaskStepMethWrapper object at 0x7f52bfa85850>()>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x7f52bfa85850>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x7f52bfa85850>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x7f52bfa85850>()>
> File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/base.py", line 22, in route
    await view.handle_event(event, ctx_api, self.state_dispenser)
          │    │            │      │        │    └ <vkbottle.dispatch.dispenser.builtin.BuiltinStateDispenser object at 0x7f52c037f8b0>
          │    │            │      │        └ <vkbottle.dispatch.base.Router object at 0x7f52c037f9a0>
          │    │            │      └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
          │    │            └ {'group_id': 215988653, 'type': 'message_new', 'event_id': '97ac9aac63a51ff2058e263d7d452aac719affae', 'v': '5.131', 'object'...
          │    └ <function ABCMessageView.handle_event at 0x7f52beaca700>
          └ <BotMessageView handlers=[<FromFuncHandler logged_menu blocking=True rules=(<PeerRule>, <PayloadRule>)>, <FromFuncHandler hom...
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/views/abc/message.py", line 73, in handle_event
    handler_response = await handler.handle(message, **context_variables)
                             │       │      │          └ {}
                             │       │      └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=12978, date=1669480926, deleted=None, f...
                             │       └ <function FromFuncHandler.handle at 0x7f52beb30280>
                             └ <FromFuncHandler announcements blocking=True rules=(<PeerRule>, <VBMLRule>)>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/handlers/from_func_handler.py", line 32, in handle
    return await self.handler(event, **acceptable_context)
                 │    │       │        └ {}
                 │    │       └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=12978, date=1669480926, deleted=None, f...
                 │    └ <function announcements at 0x7f52bfcc5f70>
                 └ <FromFuncHandler announcements blocking=True rules=(<PeerRule>, <VBMLRule>)>

  File "school_bot.py", line 1007, in announcements
    await message.answer(message.from_id, 0, message=str(list_path))
          │       │      │       │                       └ ['/home/greench/mlok/BotData/attachments/_Памятка  осторожно тонкий лед.docx', '/home/greench/mlok/BotData/attachments/Участн...
          │       │      │       └ 359707430
          │       │      └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=12978, date=1669480926, deleted=None, f...
          │       └ <function BaseMessageMin.answer at 0x7f52be7b9b80>
          └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=12978, date=1669480926, deleted=None, f...

TypeError: answer() got multiple values for argument 'message'
2022-11-26 19:42:33.469 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-26 20:41:05.311 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-26 20:41:05.313 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-26 20:41:15.790 | WARNING  | vkbottle.framework.bot.blueprint:__init__:22 - Blueprints was deprecated and will be removed in future releases, read about new code separation method in documentation: 
https://vkbottle.readthedocs.io/ru/latest/tutorial/code-separation/
2022-11-26 20:41:15.803 | ERROR    | vkbottle.exception_factory.error_handler.error_handler:handle:48 - answer() got multiple values for argument 'message'
Traceback (most recent call last):

  File "school_bot.py", line 1186, in <module>
    bot.run_forever()
    │   └ <function Bot.run_forever at 0x7f09c9c06a60>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7f09c9062460>

  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/framework/bot/bot.py", line 92, in run_forever
    self.loop_wrapper.run_forever(self.loop)
    │    │            │           │    └ <property object at 0x7f09c92caef0>
    │    │            │           └ <vkbottle.framework.bot.bot.Bot object at 0x7f09c9062460>
    │    │            └ <function LoopWrapper.run_forever at 0x7f09c7d79280>
    │    └ <vkbottle.tools.dev.loop_wrapper.LoopWrapper object at 0x7f09c9062670>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7f09c9062460>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/tools/dev/loop_wrapper.py", line 50, in run_forever
    loop.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f09ce3a0ee0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f09ce3a3a60>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f09d1e3d3a0>
    └ <Handle <TaskStepMethWrapper object at 0x7f09c93459d0>()>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x7f09c93459d0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x7f09c93459d0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x7f09c93459d0>()>
> File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/base.py", line 22, in route
    await view.handle_event(event, ctx_api, self.state_dispenser)
          │    │            │      │        │    └ <vkbottle.dispatch.dispenser.builtin.BuiltinStateDispenser object at 0x7f09c9062820>
          │    │            │      │        └ <vkbottle.dispatch.base.Router object at 0x7f09c9062910>
          │    │            │      └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
          │    │            └ {'group_id': 215988653, 'type': 'message_new', 'event_id': '3e32e9a47d1a9381779e19c20a2e37ab0e234f70', 'v': '5.131', 'object'...
          │    └ <function ABCMessageView.handle_event at 0x7f09c809d790>
          └ <BotMessageView handlers=[<FromFuncHandler logged_menu blocking=True rules=(<PeerRule>, <PayloadRule>)>, <FromFuncHandler hom...
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/views/abc/message.py", line 73, in handle_event
    handler_response = await handler.handle(message, **context_variables)
                             │       │      │          └ {}
                             │       │      └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=12979, date=1669484471, deleted=None, f...
                             │       └ <function FromFuncHandler.handle at 0x7f09c8105310>
                             └ <FromFuncHandler announcements blocking=True rules=(<PeerRule>, <VBMLRule>)>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/handlers/from_func_handler.py", line 32, in handle
    return await self.handler(event, **acceptable_context)
                 │    │       │        └ {}
                 │    │       └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=12979, date=1669484471, deleted=None, f...
                 │    └ <function announcements at 0x7f09c903b040>
                 └ <FromFuncHandler announcements blocking=True rules=(<PeerRule>, <VBMLRule>)>

  File "school_bot.py", line 1007, in announcements
    await message.answer(message.from_id, message=list_path)
          │       │      │       │                └ ['/home/greench/mlok/BotData/attachments/{file["name"]}', '/home/greench/mlok/BotData/attachments/{file["name"]}', '/home/gre...
          │       │      │       └ 359707430
          │       │      └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=12979, date=1669484471, deleted=None, f...
          │       └ <function BaseMessageMin.answer at 0x7f09c7d8cc10>
          └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=12979, date=1669484471, deleted=None, f...

TypeError: answer() got multiple values for argument 'message'
2022-11-26 20:43:16.855 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-26 20:43:23.128 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-26 20:43:23.129 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-26 20:43:27.598 | WARNING  | vkbottle.framework.bot.blueprint:__init__:22 - Blueprints was deprecated and will be removed in future releases, read about new code separation method in documentation: 
https://vkbottle.readthedocs.io/ru/latest/tutorial/code-separation/
2022-11-26 20:43:27.611 | ERROR    | vkbottle.exception_factory.error_handler.error_handler:handle:48 - answer() got multiple values for argument 'message'
Traceback (most recent call last):

  File "school_bot.py", line 1186, in <module>
    bot.run_forever()
    │   └ <function Bot.run_forever at 0x7f2eb87dda60>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7f2eb8ce26a0>

  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/framework/bot/bot.py", line 92, in run_forever
    self.loop_wrapper.run_forever(self.loop)
    │    │            │           │    └ <property object at 0x7f2eb7f634f0>
    │    │            │           └ <vkbottle.framework.bot.bot.Bot object at 0x7f2eb8ce26a0>
    │    │            └ <function LoopWrapper.run_forever at 0x7f2eb6bd2280>
    │    └ <vkbottle.tools.dev.loop_wrapper.LoopWrapper object at 0x7f2eb8ce28b0>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7f2eb8ce26a0>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/tools/dev/loop_wrapper.py", line 50, in run_forever
    loop.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f2ebd1faee0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f2ebd1fda60>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f2ec0c973a0>
    └ <Handle <TaskStepMethWrapper object at 0x7f2eb7e78cd0>()>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x7f2eb7e78cd0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x7f2eb7e78cd0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x7f2eb7e78cd0>()>
> File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/base.py", line 22, in route
    await view.handle_event(event, ctx_api, self.state_dispenser)
          │    │            │      │        │    └ <vkbottle.dispatch.dispenser.builtin.BuiltinStateDispenser object at 0x7f2eb8ce2a60>
          │    │            │      │        └ <vkbottle.dispatch.base.Router object at 0x7f2eb8ce2b50>
          │    │            │      └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
          │    │            └ {'group_id': 215988653, 'type': 'message_new', 'event_id': '80e328dd4bf3d8317cb9d0b100e808aa2f2e432f', 'v': '5.131', 'object'...
          │    └ <function ABCMessageView.handle_event at 0x7f2eb6ef6790>
          └ <BotMessageView handlers=[<FromFuncHandler logged_menu blocking=True rules=(<PeerRule>, <PayloadRule>)>, <FromFuncHandler hom...
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/views/abc/message.py", line 73, in handle_event
    handler_response = await handler.handle(message, **context_variables)
                             │       │      │          └ {}
                             │       │      └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=12980, date=1669484604, deleted=None, f...
                             │       └ <function FromFuncHandler.handle at 0x7f2eb6f5e310>
                             └ <FromFuncHandler announcements blocking=True rules=(<PeerRule>, <VBMLRule>)>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/handlers/from_func_handler.py", line 32, in handle
    return await self.handler(event, **acceptable_context)
                 │    │       │        └ {}
                 │    │       └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=12980, date=1669484604, deleted=None, f...
                 │    └ <function announcements at 0x7f2eb8cd9040>
                 └ <FromFuncHandler announcements blocking=True rules=(<PeerRule>, <VBMLRule>)>

  File "school_bot.py", line 1007, in announcements
    await message.answer(message.from_id, message=f"{list_path}")
          │       │      │       └ 359707430
          │       │      └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=12980, date=1669484604, deleted=None, f...
          │       └ <function BaseMessageMin.answer at 0x7f2eb6be7c10>
          └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=12980, date=1669484604, deleted=None, f...

TypeError: answer() got multiple values for argument 'message'
2022-11-26 20:56:47.811 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-26 20:56:53.420 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-26 20:56:53.422 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-26 20:56:57.509 | WARNING  | vkbottle.framework.bot.blueprint:__init__:22 - Blueprints was deprecated and will be removed in future releases, read about new code separation method in documentation: 
https://vkbottle.readthedocs.io/ru/latest/tutorial/code-separation/
2022-11-26 20:57:16.268 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-26 20:57:22.010 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-26 20:57:22.012 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-26 20:57:30.115 | WARNING  | vkbottle.framework.bot.blueprint:__init__:22 - Blueprints was deprecated and will be removed in future releases, read about new code separation method in documentation: 
https://vkbottle.readthedocs.io/ru/latest/tutorial/code-separation/
2022-11-26 21:09:21.514 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-26 21:09:28.216 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-26 21:09:28.217 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-26 21:09:39.206 | WARNING  | vkbottle.framework.bot.blueprint:__init__:22 - Blueprints was deprecated and will be removed in future releases, read about new code separation method in documentation: 
https://vkbottle.readthedocs.io/ru/latest/tutorial/code-separation/
2022-11-26 21:09:39.905 | ERROR    | vkbottle.exception_factory.error_handler.error_handler:handle:48 - One of the parameters specified was missing or invalid: peer_id is required for community messages
Traceback (most recent call last):

  File "school_bot.py", line 1184, in <module>
    bot.run_forever()
    │   └ <function Bot.run_forever at 0x7faf451809d0>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7faf451393d0>

  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/framework/bot/bot.py", line 92, in run_forever
    self.loop_wrapper.run_forever(self.loop)
    │    │            │           │    └ <property object at 0x7faf44625b80>
    │    │            │           └ <vkbottle.framework.bot.bot.Bot object at 0x7faf451393d0>
    │    │            └ <function LoopWrapper.run_forever at 0x7faf435681f0>
    │    └ <vkbottle.tools.dev.loop_wrapper.LoopWrapper object at 0x7faf451395e0>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7faf451393d0>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/tools/dev/loop_wrapper.py", line 50, in run_forever
    loop.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7faf49b8fe50>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7faf49b929d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7faf4d62c310>
    └ <Handle <TaskWakeupMethWrapper object at 0x7faf44a654c0>(<Future finished result=None>)>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x7faf44a654c0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x7faf44a654c0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x7faf44a654c0>(<Future finished result=None>)>
> File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/base.py", line 22, in route
    await view.handle_event(event, ctx_api, self.state_dispenser)
          │    │            │      │        │    └ <vkbottle.dispatch.dispenser.builtin.BuiltinStateDispenser object at 0x7faf45139790>
          │    │            │      │        └ <vkbottle.dispatch.base.Router object at 0x7faf45139880>
          │    │            │      └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
          │    │            └ {'group_id': 215988653, 'type': 'message_new', 'event_id': 'd218a71ddcc9fbe4670d909498b80257c9ac00a9', 'v': '5.131', 'object'...
          │    └ <function ABCMessageView.handle_event at 0x7faf4388d700>
          └ <BotMessageView handlers=[<FromFuncHandler logged_menu blocking=True rules=(<PeerRule>, <PayloadRule>)>, <FromFuncHandler hom...
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/views/abc/message.py", line 73, in handle_event
    handler_response = await handler.handle(message, **context_variables)
                             │       │      │          └ {}
                             │       │      └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=12987, date=1669486175, deleted=None, f...
                             │       └ <function FromFuncHandler.handle at 0x7faf438f3280>
                             └ <FromFuncHandler announcements blocking=True rules=(<PeerRule>, <VBMLRule>)>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/handlers/from_func_handler.py", line 32, in handle
    return await self.handler(event, **acceptable_context)
                 │    │       │        └ {}
                 │    │       └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=12987, date=1669486175, deleted=None, f...
                 │    └ <function announcements at 0x7faf45147f70>
                 └ <FromFuncHandler announcements blocking=True rules=(<PeerRule>, <VBMLRule>)>

  File "school_bot.py", line 1003, in announcements
    doc = await DocMessagesUploader(bot.api).upload(title=file['name'], file_source=file['file'])
                │                   │   │                 │                         └ {'file': b'PK\x03\x04\x14\x00\x06\x00\x08\x00\x00\x00!\x00\x97\xe1\xcb\x16\xa1\x01\x00\x00G\x06\x00\x00\x13\x00\x08\x02[Conte...
                │                   │   │                 └ {'file': b'PK\x03\x04\x14\x00\x06\x00\x08\x00\x00\x00!\x00\x97\xe1\xcb\x16\xa1\x01\x00\x00G\x06\x00\x00\x13\x00\x08\x02[Conte...
                │                   │   └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
                │                   └ <vkbottle.framework.bot.bot.Bot object at 0x7faf451393d0>
                └ <class 'vkbottle.tools.dev.uploader.doc.DocMessagesUploader'>

  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/tools/dev/uploader/doc.py", line 18, in upload
    server = await self.get_server(**params)
                   │    │            └ {}
                   │    └ <function DocMessagesUploader.get_server at 0x7faf449975e0>
                   └ <Uploader DocMessagesUploader with api <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator...
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/tools/dev/uploader/doc.py", line 53, in get_server
    return (await self.api.request("docs.getMessagesUploadServer", kwargs))["response"]
                  │    │                                           └ {}
                  │    └ <property object at 0x7faf453534a0>
                  └ <Uploader DocMessagesUploader with api <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator...
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/api/api.py", line 79, in request
    return await self.validate_response(method, data, response)  # type: ignore
                 │    │                 │       │     └ '{"error":{"error_code":100,"error_msg":"One of the parameters specified was missing or invalid: peer_id is required for comm...
                 │    │                 │       └ {}
                 │    │                 └ 'docs.getMessagesUploadServer'
                 │    └ <function API.validate_response at 0x7faf438dbee0>
                 └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/api/api.py", line 103, in validate_response
    response = await validator.validate(method, data, response, self)  # type: ignore
                     │         │        │       │     │         └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
                     │         │        │       │     └ {'error': {'error_msg': 'One of the parameters specified was missing or invalid: peer_id is required for community messages',...
                     │         │        │       └ {}
                     │         │        └ 'docs.getMessagesUploadServer'
                     │         └ <function VKAPIErrorResponseValidator.validate at 0x7faf438db550>
                     └ <vkbottle.api.response_validator.vk_api_error_validator.VKAPIErrorResponseValidator object at 0x7faf444e9940>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/api/response_validator/vk_api_error_validator.py", line 48, in validate
    raise VKAPIError[code](**error)
          │          │       └ {'error_msg': 'One of the parameters specified was missing or invalid: peer_id is required for community messages', 'request_...
          │          └ 100
          └ <class 'vkbottle.exception_factory.base_exceptions.VKAPIError'>

vkbottle.exception_factory.code_exception.VKAPIError_100: One of the parameters specified was missing or invalid: peer_id is required for community messages
2022-11-26 21:10:43.282 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-26 21:10:49.013 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-26 21:10:49.015 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-26 21:11:10.168 | WARNING  | vkbottle.framework.bot.blueprint:__init__:22 - Blueprints was deprecated and will be removed in future releases, read about new code separation method in documentation: 
https://vkbottle.readthedocs.io/ru/latest/tutorial/code-separation/
2022-11-26 21:22:05.960 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-26 21:22:11.940 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-26 21:22:11.942 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-26 21:24:27.936 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-26 21:24:54.129 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-26 21:24:54.131 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-26 21:25:10.395 | ERROR    | vkbottle.exception_factory.error_handler.error_handler:handle:48 - string indices must be integers
Traceback (most recent call last):

  File "school_bot.py", line 1221, in <module>
    bot.run_forever()
    │   └ <function Bot.run_forever at 0x7fa0e0f139d0>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7fa0e0b433d0>

  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/framework/bot/bot.py", line 92, in run_forever
    self.loop_wrapper.run_forever(self.loop)
    │    │            │           │    └ <property object at 0x7fa0e05c47c0>
    │    │            │           └ <vkbottle.framework.bot.bot.Bot object at 0x7fa0e0b433d0>
    │    │            └ <function LoopWrapper.run_forever at 0x7fa0df62e1f0>
    │    └ <vkbottle.tools.dev.loop_wrapper.LoopWrapper object at 0x7fa0e0b435e0>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7fa0e0b433d0>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/tools/dev/loop_wrapper.py", line 50, in run_forever
    loop.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7fa0e5c56e50>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7fa0e5c599d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7fa0e96f1310>
    └ <Handle <TaskStepMethWrapper object at 0x7fa0e0575b20>()>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x7fa0e0575b20>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x7fa0e0575b20>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x7fa0e0575b20>()>
> File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/base.py", line 22, in route
    await view.handle_event(event, ctx_api, self.state_dispenser)
          │    │            │      │        │    └ <vkbottle.dispatch.dispenser.builtin.BuiltinStateDispenser object at 0x7fa0e0b43790>
          │    │            │      │        └ <vkbottle.dispatch.base.Router object at 0x7fa0e0b43880>
          │    │            │      └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
          │    │            └ {'group_id': 215988653, 'type': 'message_new', 'event_id': 'f84059978a98271167005f82fdb648d415e21cee', 'v': '5.131', 'object'...
          │    └ <function ABCMessageView.handle_event at 0x7fa0df955700>
          └ <BotMessageView handlers=[<FromFuncHandler logged_menu blocking=True rules=(<PeerRule>, <PayloadRule>)>, <FromFuncHandler hom...
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/views/abc/message.py", line 73, in handle_event
    handler_response = await handler.handle(message, **context_variables)
                             │       │      │          └ {}
                             │       │      └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=12991, date=1669487095, deleted=None, f...
                             │       └ <function FromFuncHandler.handle at 0x7fa0df9ba280>
                             └ <FromFuncHandler announcements blocking=True rules=(<PeerRule>, <VBMLRule>)>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/handlers/from_func_handler.py", line 32, in handle
    return await self.handler(event, **acceptable_context)
                 │    │       │        └ {}
                 │    │       └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=12991, date=1669487095, deleted=None, f...
                 │    └ <function announcements at 0x7fa0e19f3f70>
                 └ <FromFuncHandler announcements blocking=True rules=(<PeerRule>, <VBMLRule>)>

  File "school_bot.py", line 1002, in announcements
    print(f"{announcement['author']['nickName']}({announcement['postDate'].replace('T', ' ')}")

TypeError: string indices must be integers
2022-11-26 21:29:15.457 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-26 21:29:21.243 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-26 21:29:21.245 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-26 21:29:24.785 | ERROR    | vkbottle.exception_factory.error_handler.error_handler:handle:48 - string indices must be integers
Traceback (most recent call last):

  File "school_bot.py", line 1225, in <module>
    bot.run_forever()
    │   └ <function Bot.run_forever at 0x7f76228a19d0>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7f76224d6580>

  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/framework/bot/bot.py", line 92, in run_forever
    self.loop_wrapper.run_forever(self.loop)
    │    │            │           │    └ <property object at 0x7f7621f54b30>
    │    │            │           └ <vkbottle.framework.bot.bot.Bot object at 0x7f76224d6580>
    │    │            └ <function LoopWrapper.run_forever at 0x7f7620fbf1f0>
    │    └ <vkbottle.tools.dev.loop_wrapper.LoopWrapper object at 0x7f76224d6790>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7f76224d6580>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/tools/dev/loop_wrapper.py", line 50, in run_forever
    loop.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f76275e6e50>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f76275e99d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f762b082310>
    └ <Handle <TaskStepMethWrapper object at 0x7f7623878c70>()>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x7f7623878c70>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x7f7623878c70>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x7f7623878c70>()>
> File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/base.py", line 22, in route
    await view.handle_event(event, ctx_api, self.state_dispenser)
          │    │            │      │        │    └ <vkbottle.dispatch.dispenser.builtin.BuiltinStateDispenser object at 0x7f76224d6940>
          │    │            │      │        └ <vkbottle.dispatch.base.Router object at 0x7f76224d6a30>
          │    │            │      └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
          │    │            └ {'group_id': 215988653, 'type': 'message_new', 'event_id': 'aa4ee68d0bbc399880d0dabc175018d980e9e21f', 'v': '5.131', 'object'...
          │    └ <function ABCMessageView.handle_event at 0x7f76212e5700>
          └ <BotMessageView handlers=[<FromFuncHandler logged_menu blocking=True rules=(<PeerRule>, <PayloadRule>)>, <FromFuncHandler hom...
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/views/abc/message.py", line 73, in handle_event
    handler_response = await handler.handle(message, **context_variables)
                             │       │      │          └ {}
                             │       │      └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=12992, date=1669487361, deleted=None, f...
                             │       └ <function FromFuncHandler.handle at 0x7f762134b280>
                             └ <FromFuncHandler announcements blocking=True rules=(<PeerRule>, <VBMLRule>)>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/handlers/from_func_handler.py", line 32, in handle
    return await self.handler(event, **acceptable_context)
                 │    │       │        └ {}
                 │    │       └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=12992, date=1669487361, deleted=None, f...
                 │    └ <function announcements at 0x7f76233a8f70>
                 └ <FromFuncHandler announcements blocking=True rules=(<PeerRule>, <VBMLRule>)>

  File "school_bot.py", line 1002, in announcements
    res += f"{announcement['author']['nickName']}({announcement['postDate'].replace('T', ' ')}"
    └ ''

TypeError: string indices must be integers
2022-11-26 21:30:13.019 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-26 21:30:18.592 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-26 21:30:18.594 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-26 21:30:31.861 | ERROR    | vkbottle.exception_factory.error_handler.error_handler:handle:48 - string indices must be integers
Traceback (most recent call last):

  File "school_bot.py", line 1225, in <module>
    bot.run_forever()
    │   └ <function Bot.run_forever at 0x7fdccec47af0>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7fdcce99f400>

  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/framework/bot/bot.py", line 92, in run_forever
    self.loop_wrapper.run_forever(self.loop)
    │    │            │           │    └ <property object at 0x7fdccdd43a90>
    │    │            │           └ <vkbottle.framework.bot.bot.Bot object at 0x7fdcce99f400>
    │    │            └ <function LoopWrapper.run_forever at 0x7fdcccdad310>
    │    └ <vkbottle.tools.dev.loop_wrapper.LoopWrapper object at 0x7fdcce99f610>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7fdcce99f400>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/tools/dev/loop_wrapper.py", line 50, in run_forever
    loop.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7fdcd33d4f70>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7fdcd33d7af0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7fdcd6eaf430>
    └ <Handle <TaskStepMethWrapper object at 0x7fdccdf51ac0>()>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x7fdccdf51ac0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x7fdccdf51ac0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x7fdccdf51ac0>()>
> File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/base.py", line 22, in route
    await view.handle_event(event, ctx_api, self.state_dispenser)
          │    │            │      │        │    └ <vkbottle.dispatch.dispenser.builtin.BuiltinStateDispenser object at 0x7fdcce99f7c0>
          │    │            │      │        └ <vkbottle.dispatch.base.Router object at 0x7fdcce99f8b0>
          │    │            │      └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
          │    │            └ {'group_id': 215988653, 'type': 'message_new', 'event_id': '5e4d2873426daca73437526693bb1a8c3fbba988', 'v': '5.131', 'object'...
          │    └ <function ABCMessageView.handle_event at 0x7fdccd0d1820>
          └ <BotMessageView handlers=[<FromFuncHandler logged_menu blocking=True rules=(<PeerRule>, <PayloadRule>)>, <FromFuncHandler hom...
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/views/abc/message.py", line 73, in handle_event
    handler_response = await handler.handle(message, **context_variables)
                             │       │      │          └ {}
                             │       │      └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=12993, date=1669487428, deleted=None, f...
                             │       └ <function FromFuncHandler.handle at 0x7fdccd1393a0>
                             └ <FromFuncHandler announcements blocking=True rules=(<PeerRule>, <VBMLRule>)>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/handlers/from_func_handler.py", line 32, in handle
    return await self.handler(event, **acceptable_context)
                 │    │       │        └ {}
                 │    │       └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=12993, date=1669487428, deleted=None, f...
                 │    └ <function announcements at 0x7fdccf16b0d0>
                 └ <FromFuncHandler announcements blocking=True rules=(<PeerRule>, <VBMLRule>)>

  File "school_bot.py", line 1002, in announcements
    res += f"{announcement['author']['nickName']}({announcement['postDate']}"
    └ ''

TypeError: string indices must be integers
2022-11-26 21:31:15.157 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-26 21:32:52.497 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-26 21:32:52.498 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-26 21:32:59.375 | ERROR    | vkbottle.exception_factory.error_handler.error_handler:handle:48 - string indices must be integers
Traceback (most recent call last):

  File "school_bot.py", line 1225, in <module>
    bot.run_forever()
    │   └ <function Bot.run_forever at 0x7f2b367bca60>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7f2b364191f0>

  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/framework/bot/bot.py", line 92, in run_forever
    self.loop_wrapper.run_forever(self.loop)
    │    │            │           │    └ <property object at 0x7f2b362ee770>
    │    │            │           └ <vkbottle.framework.bot.bot.Bot object at 0x7f2b364191f0>
    │    │            └ <function LoopWrapper.run_forever at 0x7f2b34f03280>
    │    └ <vkbottle.tools.dev.loop_wrapper.LoopWrapper object at 0x7f2b36419400>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7f2b364191f0>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/tools/dev/loop_wrapper.py", line 50, in run_forever
    loop.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f2b3b52bee0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f2b3b52ea60>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f2b3f0073a0>
    └ <Handle <TaskStepMethWrapper object at 0x7f2b377baeb0>()>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x7f2b377baeb0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x7f2b377baeb0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x7f2b377baeb0>()>
> File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/base.py", line 22, in route
    await view.handle_event(event, ctx_api, self.state_dispenser)
          │    │            │      │        │    └ <vkbottle.dispatch.dispenser.builtin.BuiltinStateDispenser object at 0x7f2b364195b0>
          │    │            │      │        └ <vkbottle.dispatch.base.Router object at 0x7f2b364196a0>
          │    │            │      └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
          │    │            └ {'group_id': 215988653, 'type': 'message_new', 'event_id': '96d61f3404342fc48c353d9d1a3ad04daca02481', 'v': '5.131', 'object'...
          │    └ <function ABCMessageView.handle_event at 0x7f2b35229790>
          └ <BotMessageView handlers=[<FromFuncHandler logged_menu blocking=True rules=(<PeerRule>, <PayloadRule>)>, <FromFuncHandler hom...
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/views/abc/message.py", line 73, in handle_event
    handler_response = await handler.handle(message, **context_variables)
                             │       │      │          └ {}
                             │       │      └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=12995, date=1669487575, deleted=None, f...
                             │       └ <function FromFuncHandler.handle at 0x7f2b3528f310>
                             └ <FromFuncHandler announcements blocking=True rules=(<PeerRule>, <VBMLRule>)>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/handlers/from_func_handler.py", line 32, in handle
    return await self.handler(event, **acceptable_context)
                 │    │       │        └ {}
                 │    │       └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=12995, date=1669487575, deleted=None, f...
                 │    └ <function announcements at 0x7f2b372c5040>
                 └ <FromFuncHandler announcements blocking=True rules=(<PeerRule>, <VBMLRule>)>

  File "school_bot.py", line 1002, in announcements
    res += f"{announcement['author']['nickName']}({announcement['postDate']}\n\n"
    └ ''

TypeError: string indices must be integers
2022-11-26 21:34:58.840 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-26 21:35:04.793 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-26 21:35:04.795 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-26 21:35:11.069 | ERROR    | vkbottle.exception_factory.error_handler.error_handler:handle:48 - string indices must be integers
Traceback (most recent call last):

  File "school_bot.py", line 1222, in <module>
    bot.run_forever()
    │   └ <function Bot.run_forever at 0x7f3f63773a60>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7f3f6373e190>

  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/framework/bot/bot.py", line 92, in run_forever
    self.loop_wrapper.run_forever(self.loop)
    │    │            │           │    └ <property object at 0x7f3f62aff9a0>
    │    │            │           └ <vkbottle.framework.bot.bot.Bot object at 0x7f3f6373e190>
    │    │            └ <function LoopWrapper.run_forever at 0x7f3f61b68280>
    │    └ <vkbottle.tools.dev.loop_wrapper.LoopWrapper object at 0x7f3f6373e3a0>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7f3f6373e190>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/tools/dev/loop_wrapper.py", line 50, in run_forever
    loop.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f3f68190ee0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f3f68193a60>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f3f6bc2c3a0>
    └ <Handle <TaskStepMethWrapper object at 0x7f3f62e2ff10>()>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x7f3f62e2ff10>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x7f3f62e2ff10>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x7f3f62e2ff10>()>
> File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/base.py", line 22, in route
    await view.handle_event(event, ctx_api, self.state_dispenser)
          │    │            │      │        │    └ <vkbottle.dispatch.dispenser.builtin.BuiltinStateDispenser object at 0x7f3f6373e550>
          │    │            │      │        └ <vkbottle.dispatch.base.Router object at 0x7f3f6373e640>
          │    │            │      └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
          │    │            └ {'group_id': 215988653, 'type': 'message_new', 'event_id': '740e96d14d6b7331ff0fff4606a937894a560e1b', 'v': '5.131', 'object'...
          │    └ <function ABCMessageView.handle_event at 0x7f3f61e8f790>
          └ <BotMessageView handlers=[<FromFuncHandler logged_menu blocking=True rules=(<PeerRule>, <PayloadRule>)>, <FromFuncHandler hom...
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/views/abc/message.py", line 73, in handle_event
    handler_response = await handler.handle(message, **context_variables)
                             │       │      │          └ {}
                             │       │      └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=12997, date=1669487707, deleted=None, f...
                             │       └ <function FromFuncHandler.handle at 0x7f3f61ef4310>
                             └ <FromFuncHandler announcements blocking=True rules=(<PeerRule>, <VBMLRule>)>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/handlers/from_func_handler.py", line 32, in handle
    return await self.handler(event, **acceptable_context)
                 │    │       │        └ {}
                 │    │       └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=12997, date=1669487707, deleted=None, f...
                 │    └ <function announcements at 0x7f3f63087040>
                 └ <FromFuncHandler announcements blocking=True rules=(<PeerRule>, <VBMLRule>)>

  File "school_bot.py", line 1002, in announcements
    print(announcement['author']['nickName'])
          └ 'Величкин Андрей Александрович(2022-11-24 12:02:04.06):\nВАЖНО\n\nПирожкова Марина Валентиновна(2022-11-17 13:42:15.667):\nВн...

TypeError: string indices must be integers
2022-11-26 21:36:35.816 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-26 21:36:41.593 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-26 21:36:41.595 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-26 21:37:37.986 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-26 21:37:43.425 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-26 21:37:43.426 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-26 21:38:57.306 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-26 21:39:03.204 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-26 21:39:03.205 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-26 21:40:04.643 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-26 21:40:10.439 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-26 21:40:10.441 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-26 21:42:08.546 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-26 21:42:14.442 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-26 21:42:14.444 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-26 21:42:16.112 | ERROR    | vkbottle.exception_factory.error_handler.error_handler:handle:48 - '>' not supported between instances of 'list' and 'int'
Traceback (most recent call last):

  File "school_bot.py", line 1226, in <module>
    bot.run_forever()
    │   └ <function Bot.run_forever at 0x7f0419a589d0>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7f04190e7250>

  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/framework/bot/bot.py", line 92, in run_forever
    self.loop_wrapper.run_forever(self.loop)
    │    │            │           │    └ <property object at 0x7f0418b67ef0>
    │    │            │           └ <vkbottle.framework.bot.bot.Bot object at 0x7f04190e7250>
    │    │            └ <function LoopWrapper.run_forever at 0x7f0417bd21f0>
    │    └ <vkbottle.tools.dev.loop_wrapper.LoopWrapper object at 0x7f04190e7460>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7f04190e7250>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/tools/dev/loop_wrapper.py", line 50, in run_forever
    loop.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f041e1fae50>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f041e1fd9d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f0421c95310>
    └ <Handle <TaskStepMethWrapper object at 0x7f0418ea4130>()>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x7f0418ea4130>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x7f0418ea4130>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x7f0418ea4130>()>
> File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/base.py", line 22, in route
    await view.handle_event(event, ctx_api, self.state_dispenser)
          │    │            │      │        │    └ <vkbottle.dispatch.dispenser.builtin.BuiltinStateDispenser object at 0x7f04190e7610>
          │    │            │      │        └ <vkbottle.dispatch.base.Router object at 0x7f04190e7700>
          │    │            │      └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
          │    │            └ {'group_id': 215988653, 'type': 'message_new', 'event_id': 'fac312a31bd5bb85b2a726e716a52311a33548f9', 'v': '5.131', 'object'...
          │    └ <function ABCMessageView.handle_event at 0x7f0417ef9700>
          └ <BotMessageView handlers=[<FromFuncHandler logged_menu blocking=True rules=(<PeerRule>, <PayloadRule>)>, <FromFuncHandler hom...
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/views/abc/message.py", line 73, in handle_event
    handler_response = await handler.handle(message, **context_variables)
                             │       │      │          └ {}
                             │       │      └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13002, date=1669488134, deleted=None, f...
                             │       └ <function FromFuncHandler.handle at 0x7f0417f5e280>
                             └ <FromFuncHandler announcements blocking=True rules=(<PeerRule>, <VBMLRule>)>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/handlers/from_func_handler.py", line 32, in handle
    return await self.handler(event, **acceptable_context)
                 │    │       │        └ {}
                 │    │       └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13002, date=1669488134, deleted=None, f...
                 │    └ <function announcements at 0x7f0419f95f70>
                 └ <FromFuncHandler announcements blocking=True rules=(<PeerRule>, <VBMLRule>)>

  File "school_bot.py", line 1004, in announcements
    if len(announcement['name'].split() > 1):
           └ {'description': '', 'postDate': '2022-11-24T12:02:04.06', 'deleteDate': None, 'author': {'id': 1941509, 'fio': 'Величкин Андр...

TypeError: '>' not supported between instances of 'list' and 'int'
2022-11-26 21:42:56.380 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-26 21:43:09.062 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-26 21:43:09.065 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-26 21:43:40.956 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-26 21:43:46.252 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-26 21:43:46.253 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-26 21:44:20.090 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-26 22:24:03.415 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-26 22:24:03.416 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-26 22:32:24.022 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-26 22:32:29.531 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-26 22:32:29.533 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-26 22:32:54.168 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-26 22:32:59.755 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-26 22:32:59.757 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-26 22:33:48.107 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-26 22:33:53.318 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-26 22:33:53.320 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-26 23:49:32.524 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-26 23:49:40.018 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-26 23:49:40.019 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-26 23:49:44.045 | ERROR    | vkbottle.exception_factory.error_handler.error_handler:handle:48 - Keyboard format is invalid: row 8 contains too much columns
Traceback (most recent call last):

  File "school_bot.py", line 1235, in <module>
    bot.run_forever()
    │   └ <function Bot.run_forever at 0x7fa3a27c4940>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7fa3a2aab490>

  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/framework/bot/bot.py", line 92, in run_forever
    self.loop_wrapper.run_forever(self.loop)
    │    │            │           │    └ <property object at 0x7fa3a21e0b30>
    │    │            │           └ <vkbottle.framework.bot.bot.Bot object at 0x7fa3a2aab490>
    │    │            └ <function LoopWrapper.run_forever at 0x7fa3a0ece160>
    │    └ <vkbottle.tools.dev.loop_wrapper.LoopWrapper object at 0x7fa3a2aab6a0>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7fa3a2aab490>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/tools/dev/loop_wrapper.py", line 50, in run_forever
    loop.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7fa3a74f6dc0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7fa3a74f9940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7fa3aaf93280>
    └ <Handle <TaskWakeupMethWrapper object at 0x7fa3a2461640>(<Future finished result=None>)>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x7fa3a2461640>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x7fa3a2461640>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x7fa3a2461640>(<Future finished result=None>)>
> File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/base.py", line 22, in route
    await view.handle_event(event, ctx_api, self.state_dispenser)
          │    │            │      │        │    └ <vkbottle.dispatch.dispenser.builtin.BuiltinStateDispenser object at 0x7fa3a2aab850>
          │    │            │      │        └ <vkbottle.dispatch.base.Router object at 0x7fa3a2aab940>
          │    │            │      └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
          │    │            └ {'group_id': 215988653, 'type': 'message_new', 'event_id': 'a72b0cc3507e5fbccf063c75654c85222d5ed346', 'v': '5.131', 'object'...
          │    └ <function ABCMessageView.handle_event at 0x7fa3a11f4670>
          └ <BotMessageView handlers=[<FromFuncHandler logged_menu blocking=True rules=(<PeerRule>, <PayloadRule>)>, <FromFuncHandler hom...
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/views/abc/message.py", line 73, in handle_event
    handler_response = await handler.handle(message, **context_variables)
                             │       │      │          └ {}
                             │       │      └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13032, date=1669495782, deleted=None, f...
                             │       └ <function FromFuncHandler.handle at 0x7fa3a125b1f0>
                             └ <FromFuncHandler announcements blocking=True rules=(<PeerRule>, <VBMLRule>)>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/handlers/from_func_handler.py", line 32, in handle
    return await self.handler(event, **acceptable_context)
                 │    │       │        └ {}
                 │    │       └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13032, date=1669495782, deleted=None, f...
                 │    └ <function announcements at 0x7fa3a2aa4ee0>
                 └ <FromFuncHandler announcements blocking=True rules=(<PeerRule>, <VBMLRule>)>

  File "school_bot.py", line 1017, in announcements
    await message.answer(res, keyboard=keyboard)
          │       │      │             └ <vkbottle.tools.dev.keyboard.keyboard.Keyboard object at 0x7fa3a2492ca0>
          │       │      └ '1) Величкин Андрей Александрович 2022-11-24 12:02:04.06ВАЖНО\n\n2) Пирожкова Марина Валентиновна 2022-11-17 13:42:15.667Вним...
          │       └ <function BaseMessageMin.answer at 0x7fa3a0ee4af0>
          └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13032, date=1669495782, deleted=None, f...

  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/tools/dev/mini_types/base/message.py", line 198, in answer
    response = (await self.ctx_api.messages.send(peer_ids=[self.peer_id], **data))[0]  # type: ignore
                      │    │                               │    │           └ {'message': '1) Величкин Андрей Александрович 2022-11-24 12:02:04.06ВАЖНО\n\n2) Пирожкова Марина Валентиновна 2022-11-17 13:4...
                      │    │                               │    └ 359707430
                      │    │                               └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13032, date=1669495782, deleted=None, f...
                      │    └ <property object at 0x7fa3a2c66900>
                      └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13032, date=1669495782, deleted=None, f...
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle_types/methods/messages.py", line 206, in send
    response = await self.api.request("messages.send", params)
                     │    │   │                        └ {'random_id': 0, 'peer_ids': '359707430', 'message': '1) Величкин Андрей Александрович 2022-11-24 12:02:04.06ВАЖНО\n\n2) Пиро...
                     │    │   └ <function API.request at 0x7fa3a1242d30>
                     │    └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
                     └ <vkbottle_types.methods.messages.MessagesCategory object at 0x7fa3a24b6af0>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/api/api.py", line 79, in request
    return await self.validate_response(method, data, response)  # type: ignore
                 │    │                 │       │     └ '{"error":{"error_code":911,"error_msg":"Keyboard format is invalid: row 8 contains too much columns","request_params":[{"key...
                 │    │                 │       └ {'random_id': 0, 'peer_ids': '359707430', 'message': '1) Величкин Андрей Александрович 2022-11-24 12:02:04.06ВАЖНО\n\n2) Пиро...
                 │    │                 └ 'messages.send'
                 │    └ <function API.validate_response at 0x7fa3a1242e50>
                 └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/api/api.py", line 103, in validate_response
    response = await validator.validate(method, data, response, self)  # type: ignore
                     │         │        │       │     │         └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
                     │         │        │       │     └ {'error': {'error_msg': 'Keyboard format is invalid: row 8 contains too much columns', 'request_params': [{'key': 'v', 'value...
                     │         │        │       └ {'random_id': 0, 'peer_ids': '359707430', 'message': '1) Величкин Андрей Александрович 2022-11-24 12:02:04.06ВАЖНО\n\n2) Пиро...
                     │         │        └ 'messages.send'
                     │         └ <function VKAPIErrorResponseValidator.validate at 0x7fa3a12424c0>
                     └ <vkbottle.api.response_validator.vk_api_error_validator.VKAPIErrorResponseValidator object at 0x7fa3a1e529d0>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/api/response_validator/vk_api_error_validator.py", line 48, in validate
    raise VKAPIError[code](**error)
          │          │       └ {'error_msg': 'Keyboard format is invalid: row 8 contains too much columns', 'request_params': [{'key': 'v', 'value': '5.131'...
          │          └ 911
          └ <class 'vkbottle.exception_factory.base_exceptions.VKAPIError'>

vkbottle.exception_factory.code_exception.VKAPIError_911: Keyboard format is invalid: row 8 contains too much columns
2022-11-26 23:54:13.894 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-26 23:54:19.497 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-26 23:54:19.499 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-26 23:54:23.655 | ERROR    | vkbottle.exception_factory.error_handler.error_handler:handle:48 - Keyboard format is invalid: row 8 contains too much columns
Traceback (most recent call last):

  File "school_bot.py", line 1235, in <module>
    bot.run_forever()
    │   └ <function Bot.run_forever at 0x7f0657d90940>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7f06574474f0>

  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/framework/bot/bot.py", line 92, in run_forever
    self.loop_wrapper.run_forever(self.loop)
    │    │            │           │    └ <property object at 0x7f0657402090>
    │    │            │           └ <vkbottle.framework.bot.bot.Bot object at 0x7f06574474f0>
    │    │            └ <function LoopWrapper.run_forever at 0x7f06564a2160>
    │    └ <vkbottle.tools.dev.loop_wrapper.LoopWrapper object at 0x7f0657447700>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7f06574474f0>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/tools/dev/loop_wrapper.py", line 50, in run_forever
    loop.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f065cacadc0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f065cace940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f0660567280>
    └ <Handle <TaskWakeupMethWrapper object at 0x7f06579c16a0>(<Future finished result=None>)>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x7f06579c16a0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x7f06579c16a0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x7f06579c16a0>(<Future finished result=None>)>
> File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/base.py", line 22, in route
    await view.handle_event(event, ctx_api, self.state_dispenser)
          │    │            │      │        │    └ <vkbottle.dispatch.dispenser.builtin.BuiltinStateDispenser object at 0x7f06574478b0>
          │    │            │      │        └ <vkbottle.dispatch.base.Router object at 0x7f06574479a0>
          │    │            │      └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
          │    │            └ {'group_id': 215988653, 'type': 'message_new', 'event_id': '3939eca753c0a3ad92fe7298c6537b420d011ade', 'v': '5.131', 'object'...
          │    └ <function ABCMessageView.handle_event at 0x7f06567c8670>
          └ <BotMessageView handlers=[<FromFuncHandler logged_menu blocking=True rules=(<PeerRule>, <PayloadRule>)>, <FromFuncHandler hom...
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/views/abc/message.py", line 73, in handle_event
    handler_response = await handler.handle(message, **context_variables)
                             │       │      │          └ {}
                             │       │      └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13033, date=1669496062, deleted=None, f...
                             │       └ <function FromFuncHandler.handle at 0x7f065682f1f0>
                             └ <FromFuncHandler announcements blocking=True rules=(<PeerRule>, <VBMLRule>)>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/handlers/from_func_handler.py", line 32, in handle
    return await self.handler(event, **acceptable_context)
                 │    │       │        └ {}
                 │    │       └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13033, date=1669496062, deleted=None, f...
                 │    └ <function announcements at 0x7f065752dee0>
                 └ <FromFuncHandler announcements blocking=True rules=(<PeerRule>, <VBMLRule>)>

  File "school_bot.py", line 1017, in announcements
    await message.answer(res, keyboard=keyboard)
          │       │      │             └ <vkbottle.tools.dev.keyboard.keyboard.Keyboard object at 0x7f0657770d00>
          │       │      └ '1) Величкин Андрей Александрович 2022-11-24 12:02:04.06ВАЖНО\n\n2) Пирожкова Марина Валентиновна 2022-11-17 13:42:15.667Вним...
          │       └ <function BaseMessageMin.answer at 0x7f06564b8af0>
          └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13033, date=1669496062, deleted=None, f...

  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/tools/dev/mini_types/base/message.py", line 198, in answer
    response = (await self.ctx_api.messages.send(peer_ids=[self.peer_id], **data))[0]  # type: ignore
                      │    │                               │    │           └ {'message': '1) Величкин Андрей Александрович 2022-11-24 12:02:04.06ВАЖНО\n\n2) Пирожкова Марина Валентиновна 2022-11-17 13:4...
                      │    │                               │    └ 359707430
                      │    │                               └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13033, date=1669496062, deleted=None, f...
                      │    └ <property object at 0x7f065823a090>
                      └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13033, date=1669496062, deleted=None, f...
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle_types/methods/messages.py", line 206, in send
    response = await self.api.request("messages.send", params)
                     │    │   │                        └ {'random_id': 0, 'peer_ids': '359707430', 'message': '1) Величкин Андрей Александрович 2022-11-24 12:02:04.06ВАЖНО\n\n2) Пиро...
                     │    │   └ <function API.request at 0x7f0656816d30>
                     │    └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
                     └ <vkbottle_types.methods.messages.MessagesCategory object at 0x7f065778bb50>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/api/api.py", line 79, in request
    return await self.validate_response(method, data, response)  # type: ignore
                 │    │                 │       │     └ '{"error":{"error_code":911,"error_msg":"Keyboard format is invalid: row 8 contains too much columns","request_params":[{"key...
                 │    │                 │       └ {'random_id': 0, 'peer_ids': '359707430', 'message': '1) Величкин Андрей Александрович 2022-11-24 12:02:04.06ВАЖНО\n\n2) Пиро...
                 │    │                 └ 'messages.send'
                 │    └ <function API.validate_response at 0x7f0656816e50>
                 └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/api/api.py", line 103, in validate_response
    response = await validator.validate(method, data, response, self)  # type: ignore
                     │         │        │       │     │         └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
                     │         │        │       │     └ {'error': {'error_msg': 'Keyboard format is invalid: row 8 contains too much columns', 'request_params': [{'key': 'v', 'value...
                     │         │        │       └ {'random_id': 0, 'peer_ids': '359707430', 'message': '1) Величкин Андрей Александрович 2022-11-24 12:02:04.06ВАЖНО\n\n2) Пиро...
                     │         │        └ 'messages.send'
                     │         └ <function VKAPIErrorResponseValidator.validate at 0x7f06568164c0>
                     └ <vkbottle.api.response_validator.vk_api_error_validator.VKAPIErrorResponseValidator object at 0x7f06574259d0>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/api/response_validator/vk_api_error_validator.py", line 48, in validate
    raise VKAPIError[code](**error)
          │          │       └ {'error_msg': 'Keyboard format is invalid: row 8 contains too much columns', 'request_params': [{'key': 'v', 'value': '5.131'...
          │          └ 911
          └ <class 'vkbottle.exception_factory.base_exceptions.VKAPIError'>

vkbottle.exception_factory.code_exception.VKAPIError_911: Keyboard format is invalid: row 8 contains too much columns
2022-11-26 23:55:01.483 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-26 23:55:06.985 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-26 23:55:06.987 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-26 23:55:12.584 | ERROR    | vkbottle.exception_factory.error_handler.error_handler:handle:48 - Keyboard format is invalid: row 6 contains too much columns
Traceback (most recent call last):

  File "school_bot.py", line 1235, in <module>
    bot.run_forever()
    │   └ <function Bot.run_forever at 0x7f55820ce940>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7f558166a5e0>

  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/framework/bot/bot.py", line 92, in run_forever
    self.loop_wrapper.run_forever(self.loop)
    │    │            │           │    └ <property object at 0x7f5581942c70>
    │    │            │           └ <vkbottle.framework.bot.bot.Bot object at 0x7f558166a5e0>
    │    │            └ <function LoopWrapper.run_forever at 0x7f55805e5160>
    │    └ <vkbottle.tools.dev.loop_wrapper.LoopWrapper object at 0x7f558166a7f0>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7f558166a5e0>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/tools/dev/loop_wrapper.py", line 50, in run_forever
    loop.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f5586c0cdc0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f5586c0f940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f558a6a9280>
    └ <Handle <TaskWakeupMethWrapper object at 0x7f5581a9f790>(<Future finished result=None>)>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x7f5581a9f790>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x7f5581a9f790>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x7f5581a9f790>(<Future finished result=None>)>
> File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/base.py", line 22, in route
    await view.handle_event(event, ctx_api, self.state_dispenser)
          │    │            │      │        │    └ <vkbottle.dispatch.dispenser.builtin.BuiltinStateDispenser object at 0x7f558166a9a0>
          │    │            │      │        └ <vkbottle.dispatch.base.Router object at 0x7f558166aa90>
          │    │            │      └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
          │    │            └ {'group_id': 215988653, 'type': 'message_new', 'event_id': '62d13a8e8b8fdfd19a7b459cc1cb8e0da21faba1', 'v': '5.131', 'object'...
          │    └ <function ABCMessageView.handle_event at 0x7f558090b670>
          └ <BotMessageView handlers=[<FromFuncHandler logged_menu blocking=True rules=(<PeerRule>, <PayloadRule>)>, <FromFuncHandler hom...
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/views/abc/message.py", line 73, in handle_event
    handler_response = await handler.handle(message, **context_variables)
                             │       │      │          └ {}
                             │       │      └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13034, date=1669496111, deleted=None, f...
                             │       └ <function FromFuncHandler.handle at 0x7f55809721f0>
                             └ <FromFuncHandler announcements blocking=True rules=(<PeerRule>, <VBMLRule>)>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/handlers/from_func_handler.py", line 32, in handle
    return await self.handler(event, **acceptable_context)
                 │    │       │        └ {}
                 │    │       └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13034, date=1669496111, deleted=None, f...
                 │    └ <function announcements at 0x7f5581663ee0>
                 └ <FromFuncHandler announcements blocking=True rules=(<PeerRule>, <VBMLRule>)>

  File "school_bot.py", line 1017, in announcements
    await message.answer(res, keyboard=keyboard)
          │       │      │             └ <vkbottle.tools.dev.keyboard.keyboard.Keyboard object at 0x7f5581bd8df0>
          │       │      └ '1) Величкин Андрей Александрович 2022-11-24 12:02:04.06ВАЖНО\n\n2) Пирожкова Марина Валентиновна 2022-11-17 13:42:15.667Вним...
          │       └ <function BaseMessageMin.answer at 0x7f55805fbaf0>
          └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13034, date=1669496111, deleted=None, f...

  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/tools/dev/mini_types/base/message.py", line 198, in answer
    response = (await self.ctx_api.messages.send(peer_ids=[self.peer_id], **data))[0]  # type: ignore
                      │    │                               │    │           └ {'message': '1) Величкин Андрей Александрович 2022-11-24 12:02:04.06ВАЖНО\n\n2) Пирожкова Марина Валентиновна 2022-11-17 13:4...
                      │    │                               │    └ 359707430
                      │    │                               └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13034, date=1669496111, deleted=None, f...
                      │    └ <property object at 0x7f558237c900>
                      └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13034, date=1669496111, deleted=None, f...
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle_types/methods/messages.py", line 206, in send
    response = await self.api.request("messages.send", params)
                     │    │   │                        └ {'random_id': 0, 'peer_ids': '359707430', 'message': '1) Величкин Андрей Александрович 2022-11-24 12:02:04.06ВАЖНО\n\n2) Пиро...
                     │    │   └ <function API.request at 0x7f5580959d30>
                     │    └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
                     └ <vkbottle_types.methods.messages.MessagesCategory object at 0x7f5581bd5c40>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/api/api.py", line 79, in request
    return await self.validate_response(method, data, response)  # type: ignore
                 │    │                 │       │     └ '{"error":{"error_code":911,"error_msg":"Keyboard format is invalid: row 6 contains too much columns","request_params":[{"key...
                 │    │                 │       └ {'random_id': 0, 'peer_ids': '359707430', 'message': '1) Величкин Андрей Александрович 2022-11-24 12:02:04.06ВАЖНО\n\n2) Пиро...
                 │    │                 └ 'messages.send'
                 │    └ <function API.validate_response at 0x7f5580959e50>
                 └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/api/api.py", line 103, in validate_response
    response = await validator.validate(method, data, response, self)  # type: ignore
                     │         │        │       │     │         └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
                     │         │        │       │     └ {'error': {'error_msg': 'Keyboard format is invalid: row 6 contains too much columns', 'request_params': [{'key': 'v', 'value...
                     │         │        │       └ {'random_id': 0, 'peer_ids': '359707430', 'message': '1) Величкин Андрей Александрович 2022-11-24 12:02:04.06ВАЖНО\n\n2) Пиро...
                     │         │        └ 'messages.send'
                     │         └ <function VKAPIErrorResponseValidator.validate at 0x7f55809594c0>
                     └ <vkbottle.api.response_validator.vk_api_error_validator.VKAPIErrorResponseValidator object at 0x7f5581566b80>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/api/response_validator/vk_api_error_validator.py", line 48, in validate
    raise VKAPIError[code](**error)
          │          │       └ {'error_msg': 'Keyboard format is invalid: row 6 contains too much columns', 'request_params': [{'key': 'v', 'value': '5.131'...
          │          └ 911
          └ <class 'vkbottle.exception_factory.base_exceptions.VKAPIError'>

vkbottle.exception_factory.code_exception.VKAPIError_911: Keyboard format is invalid: row 6 contains too much columns
2022-11-26 23:55:46.315 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-26 23:55:51.754 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-26 23:55:51.756 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-26 23:56:03.379 | ERROR    | vkbottle.exception_factory.error_handler.error_handler:handle:48 - Keyboard format is invalid: row 9 contains too much columns
Traceback (most recent call last):

  File "school_bot.py", line 1235, in <module>
    bot.run_forever()
    │   └ <function Bot.run_forever at 0x7f84eed8a940>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7f84ef867ee0>

  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/framework/bot/bot.py", line 92, in run_forever
    self.loop_wrapper.run_forever(self.loop)
    │    │            │           │    └ <property object at 0x7f84ee5ffb30>
    │    │            │           └ <vkbottle.framework.bot.bot.Bot object at 0x7f84ef867ee0>
    │    │            └ <function LoopWrapper.run_forever at 0x7f84ed176160>
    │    └ <vkbottle.tools.dev.loop_wrapper.LoopWrapper object at 0x7f84ee34c130>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7f84ef867ee0>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/tools/dev/loop_wrapper.py", line 50, in run_forever
    loop.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f84f379cdc0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f84f37a0940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f84f7239280>
    └ <Handle <TaskWakeupMethWrapper object at 0x7f84ef282100>(<Future finished result=None>)>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x7f84ef282100>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x7f84ef282100>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x7f84ef282100>(<Future finished result=None>)>
> File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/base.py", line 22, in route
    await view.handle_event(event, ctx_api, self.state_dispenser)
          │    │            │      │        │    └ <vkbottle.dispatch.dispenser.builtin.BuiltinStateDispenser object at 0x7f84ee34c2e0>
          │    │            │      │        └ <vkbottle.dispatch.base.Router object at 0x7f84ee34c3d0>
          │    │            │      └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
          │    │            └ {'group_id': 215988653, 'type': 'message_new', 'event_id': '6b2ccae5dedd964a95465cfb01ce12d728048b26', 'v': '5.131', 'object'...
          │    └ <function ABCMessageView.handle_event at 0x7f84ed49c670>
          └ <BotMessageView handlers=[<FromFuncHandler logged_menu blocking=True rules=(<PeerRule>, <PayloadRule>)>, <FromFuncHandler hom...
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/views/abc/message.py", line 73, in handle_event
    handler_response = await handler.handle(message, **context_variables)
                             │       │      │          └ {}
                             │       │      └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13037, date=1669496161, deleted=None, f...
                             │       └ <function FromFuncHandler.handle at 0x7f84ed5021f0>
                             └ <FromFuncHandler announcements blocking=True rules=(<PeerRule>, <VBMLRule>)>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/handlers/from_func_handler.py", line 32, in handle
    return await self.handler(event, **acceptable_context)
                 │    │       │        └ {}
                 │    │       └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13037, date=1669496161, deleted=None, f...
                 │    └ <function announcements at 0x7f84ee331ee0>
                 └ <FromFuncHandler announcements blocking=True rules=(<PeerRule>, <VBMLRule>)>

  File "school_bot.py", line 1017, in announcements
    await message.answer(res, keyboard=keyboard)
          │       │      │             └ <vkbottle.tools.dev.keyboard.keyboard.Keyboard object at 0x7f84ee607790>
          │       │      └ '1) Величкин Андрей Александрович 2022-11-24 12:02:04.06ВАЖНО\n\n2) Пирожкова Марина Валентиновна 2022-11-17 13:42:15.667Вним...
          │       └ <function BaseMessageMin.answer at 0x7f84ed18baf0>
          └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13037, date=1669496161, deleted=None, f...

  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/tools/dev/mini_types/base/message.py", line 198, in answer
    response = (await self.ctx_api.messages.send(peer_ids=[self.peer_id], **data))[0]  # type: ignore
                      │    │                               │    │           └ {'message': '1) Величкин Андрей Александрович 2022-11-24 12:02:04.06ВАЖНО\n\n2) Пирожкова Марина Валентиновна 2022-11-17 13:4...
                      │    │                               │    └ 359707430
                      │    │                               └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13037, date=1669496161, deleted=None, f...
                      │    └ <property object at 0x7f84eef0e900>
                      └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13037, date=1669496161, deleted=None, f...
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle_types/methods/messages.py", line 206, in send
    response = await self.api.request("messages.send", params)
                     │    │   │                        └ {'random_id': 0, 'peer_ids': '359707430', 'message': '1) Величкин Андрей Александрович 2022-11-24 12:02:04.06ВАЖНО\n\n2) Пиро...
                     │    │   └ <function API.request at 0x7f84ed4e9d30>
                     │    └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
                     └ <vkbottle_types.methods.messages.MessagesCategory object at 0x7f84ee5f25e0>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/api/api.py", line 79, in request
    return await self.validate_response(method, data, response)  # type: ignore
                 │    │                 │       │     └ '{"error":{"error_code":911,"error_msg":"Keyboard format is invalid: row 9 contains too much columns","request_params":[{"key...
                 │    │                 │       └ {'random_id': 0, 'peer_ids': '359707430', 'message': '1) Величкин Андрей Александрович 2022-11-24 12:02:04.06ВАЖНО\n\n2) Пиро...
                 │    │                 └ 'messages.send'
                 │    └ <function API.validate_response at 0x7f84ed4e9e50>
                 └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/api/api.py", line 103, in validate_response
    response = await validator.validate(method, data, response, self)  # type: ignore
                     │         │        │       │     │         └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
                     │         │        │       │     └ {'error': {'error_msg': 'Keyboard format is invalid: row 9 contains too much columns', 'request_params': [{'key': 'v', 'value...
                     │         │        │       └ {'random_id': 0, 'peer_ids': '359707430', 'message': '1) Величкин Андрей Александрович 2022-11-24 12:02:04.06ВАЖНО\n\n2) Пиро...
                     │         │        └ 'messages.send'
                     │         └ <function VKAPIErrorResponseValidator.validate at 0x7f84ed4e94c0>
                     └ <vkbottle.api.response_validator.vk_api_error_validator.VKAPIErrorResponseValidator object at 0x7f84ed4e1a60>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/api/response_validator/vk_api_error_validator.py", line 48, in validate
    raise VKAPIError[code](**error)
          │          │       └ {'error_msg': 'Keyboard format is invalid: row 9 contains too much columns', 'request_params': [{'key': 'v', 'value': '5.131'...
          │          └ 911
          └ <class 'vkbottle.exception_factory.base_exceptions.VKAPIError'>

vkbottle.exception_factory.code_exception.VKAPIError_911: Keyboard format is invalid: row 9 contains too much columns
2022-11-26 23:58:46.859 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-26 23:58:52.671 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-26 23:58:52.673 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-26 23:58:58.712 | ERROR    | vkbottle.exception_factory.error_handler.error_handler:handle:48 - Keyboard format is invalid: buttons contain too much rows
Traceback (most recent call last):

  File "school_bot.py", line 1235, in <module>
    bot.run_forever()
    │   └ <function Bot.run_forever at 0x7fcc01513940>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7fcc00df3670>

  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/framework/bot/bot.py", line 92, in run_forever
    self.loop_wrapper.run_forever(self.loop)
    │    │            │           │    └ <property object at 0x7fcc00831360>
    │    │            │           └ <vkbottle.framework.bot.bot.Bot object at 0x7fcc00df3670>
    │    │            └ <function LoopWrapper.run_forever at 0x7fcbff877160>
    │    └ <vkbottle.tools.dev.loop_wrapper.LoopWrapper object at 0x7fcc00df3880>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7fcc00df3670>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/tools/dev/loop_wrapper.py", line 50, in run_forever
    loop.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7fcc05e9fdc0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7fcc05ea3940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7fcc0993c280>
    └ <Handle <TaskWakeupMethWrapper object at 0x7fcc01c1d820>(<Future finished result=None>)>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x7fcc01c1d820>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x7fcc01c1d820>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x7fcc01c1d820>(<Future finished result=None>)>
> File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/base.py", line 22, in route
    await view.handle_event(event, ctx_api, self.state_dispenser)
          │    │            │      │        │    └ <vkbottle.dispatch.dispenser.builtin.BuiltinStateDispenser object at 0x7fcc00df3a30>
          │    │            │      │        └ <vkbottle.dispatch.base.Router object at 0x7fcc00df3b20>
          │    │            │      └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
          │    │            └ {'group_id': 215988653, 'type': 'message_new', 'event_id': 'fb155f3468f782487096e2686c7889444b6411ee', 'v': '5.131', 'object'...
          │    └ <function ABCMessageView.handle_event at 0x7fcbffb9d670>
          └ <BotMessageView handlers=[<FromFuncHandler logged_menu blocking=True rules=(<PeerRule>, <PayloadRule>)>, <FromFuncHandler hom...
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/views/abc/message.py", line 73, in handle_event
    handler_response = await handler.handle(message, **context_variables)
                             │       │      │          └ {}
                             │       │      └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13038, date=1669496337, deleted=None, f...
                             │       └ <function FromFuncHandler.handle at 0x7fcbffc041f0>
                             └ <FromFuncHandler announcements blocking=True rules=(<PeerRule>, <VBMLRule>)>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/handlers/from_func_handler.py", line 32, in handle
    return await self.handler(event, **acceptable_context)
                 │    │       │        └ {}
                 │    │       └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13038, date=1669496337, deleted=None, f...
                 │    └ <function announcements at 0x7fcc00e0eee0>
                 └ <FromFuncHandler announcements blocking=True rules=(<PeerRule>, <VBMLRule>)>

  File "school_bot.py", line 1017, in announcements
    await message.answer(res, keyboard=keyboard)
          │       │      │             └ <vkbottle.tools.dev.keyboard.keyboard.Keyboard object at 0x7fcc00b49e80>
          │       │      └ '1) Величкин Андрей Александрович 2022-11-24 12:02:04.06ВАЖНО\n\n2) Пирожкова Марина Валентиновна 2022-11-17 13:42:15.667Вним...
          │       └ <function BaseMessageMin.answer at 0x7fcbff88daf0>
          └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13038, date=1669496337, deleted=None, f...

  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/tools/dev/mini_types/base/message.py", line 198, in answer
    response = (await self.ctx_api.messages.send(peer_ids=[self.peer_id], **data))[0]  # type: ignore
                      │    │                               │    │           └ {'message': '1) Величкин Андрей Александрович 2022-11-24 12:02:04.06ВАЖНО\n\n2) Пирожкова Марина Валентиновна 2022-11-17 13:4...
                      │    │                               │    └ 359707430
                      │    │                               └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13038, date=1669496337, deleted=None, f...
                      │    └ <property object at 0x7fcc0160f900>
                      └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13038, date=1669496337, deleted=None, f...
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle_types/methods/messages.py", line 206, in send
    response = await self.api.request("messages.send", params)
                     │    │   │                        └ {'random_id': 0, 'peer_ids': '359707430', 'message': '1) Величкин Андрей Александрович 2022-11-24 12:02:04.06ВАЖНО\n\n2) Пиро...
                     │    │   └ <function API.request at 0x7fcbffbecd30>
                     │    └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
                     └ <vkbottle_types.methods.messages.MessagesCategory object at 0x7fcc00b32cd0>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/api/api.py", line 79, in request
    return await self.validate_response(method, data, response)  # type: ignore
                 │    │                 │       │     └ '{"error":{"error_code":911,"error_msg":"Keyboard format is invalid: buttons contain too much rows","request_params":[{"key":...
                 │    │                 │       └ {'random_id': 0, 'peer_ids': '359707430', 'message': '1) Величкин Андрей Александрович 2022-11-24 12:02:04.06ВАЖНО\n\n2) Пиро...
                 │    │                 └ 'messages.send'
                 │    └ <function API.validate_response at 0x7fcbffbece50>
                 └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/api/api.py", line 103, in validate_response
    response = await validator.validate(method, data, response, self)  # type: ignore
                     │         │        │       │     │         └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
                     │         │        │       │     └ {'error': {'error_msg': 'Keyboard format is invalid: buttons contain too much rows', 'request_params': [{'key': 'v', 'value':...
                     │         │        │       └ {'random_id': 0, 'peer_ids': '359707430', 'message': '1) Величкин Андрей Александрович 2022-11-24 12:02:04.06ВАЖНО\n\n2) Пиро...
                     │         │        └ 'messages.send'
                     │         └ <function VKAPIErrorResponseValidator.validate at 0x7fcbffbec4c0>
                     └ <vkbottle.api.response_validator.vk_api_error_validator.VKAPIErrorResponseValidator object at 0x7fcc007f9c70>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/api/response_validator/vk_api_error_validator.py", line 48, in validate
    raise VKAPIError[code](**error)
          │          │       └ {'error_msg': 'Keyboard format is invalid: buttons contain too much rows', 'request_params': [{'key': 'v', 'value': '5.131'},...
          │          └ 911
          └ <class 'vkbottle.exception_factory.base_exceptions.VKAPIError'>

vkbottle.exception_factory.code_exception.VKAPIError_911: Keyboard format is invalid: buttons contain too much rows
2022-11-26 23:59:17.188 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-26 23:59:24.867 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-26 23:59:24.868 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-26 23:59:28.656 | ERROR    | vkbottle.exception_factory.error_handler.error_handler:handle:48 - Keyboard format is invalid: row 0 contains too much columns
Traceback (most recent call last):

  File "school_bot.py", line 1235, in <module>
    bot.run_forever()
    │   └ <function Bot.run_forever at 0x7fe66cbf1940>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7fe66c059640>

  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/framework/bot/bot.py", line 92, in run_forever
    self.loop_wrapper.run_forever(self.loop)
    │    │            │           │    └ <property object at 0x7fe66c2e6db0>
    │    │            │           └ <vkbottle.framework.bot.bot.Bot object at 0x7fe66c059640>
    │    │            └ <function LoopWrapper.run_forever at 0x7fe66afd6160>
    │    └ <vkbottle.tools.dev.loop_wrapper.LoopWrapper object at 0x7fe66c059850>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7fe66c059640>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/tools/dev/loop_wrapper.py", line 50, in run_forever
    loop.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7fe6715fddc0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7fe671601940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7fe67509a280>
    └ <Handle <TaskWakeupMethWrapper object at 0x7fe66c5587f0>(<Future finished result=None>)>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x7fe66c5587f0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x7fe66c5587f0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x7fe66c5587f0>(<Future finished result=None>)>
> File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/base.py", line 22, in route
    await view.handle_event(event, ctx_api, self.state_dispenser)
          │    │            │      │        │    └ <vkbottle.dispatch.dispenser.builtin.BuiltinStateDispenser object at 0x7fe66c059a00>
          │    │            │      │        └ <vkbottle.dispatch.base.Router object at 0x7fe66c059af0>
          │    │            │      └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
          │    │            └ {'group_id': 215988653, 'type': 'message_new', 'event_id': '996432237f0dd6bc54cbaa8ec57c89f704c6b217', 'v': '5.131', 'object'...
          │    └ <function ABCMessageView.handle_event at 0x7fe66b2fc670>
          └ <BotMessageView handlers=[<FromFuncHandler logged_menu blocking=True rules=(<PeerRule>, <PayloadRule>)>, <FromFuncHandler hom...
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/views/abc/message.py", line 73, in handle_event
    handler_response = await handler.handle(message, **context_variables)
                             │       │      │          └ {}
                             │       │      └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13039, date=1669496367, deleted=None, f...
                             │       └ <function FromFuncHandler.handle at 0x7fe66b3631f0>
                             └ <FromFuncHandler announcements blocking=True rules=(<PeerRule>, <VBMLRule>)>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/handlers/from_func_handler.py", line 32, in handle
    return await self.handler(event, **acceptable_context)
                 │    │       │        └ {}
                 │    │       └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13039, date=1669496367, deleted=None, f...
                 │    └ <function announcements at 0x7fe66c052ee0>
                 └ <FromFuncHandler announcements blocking=True rules=(<PeerRule>, <VBMLRule>)>

  File "school_bot.py", line 1017, in announcements
    await message.answer(res, keyboard=keyboard)
          │       │      │             └ <vkbottle.tools.dev.keyboard.keyboard.Keyboard object at 0x7fe66c2b7e50>
          │       │      └ '1) Величкин Андрей Александрович 2022-11-24 12:02:04.06ВАЖНО\n\n2) Пирожкова Марина Валентиновна 2022-11-17 13:42:15.667Вним...
          │       └ <function BaseMessageMin.answer at 0x7fe66afecaf0>
          └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13039, date=1669496367, deleted=None, f...

  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/tools/dev/mini_types/base/message.py", line 198, in answer
    response = (await self.ctx_api.messages.send(peer_ids=[self.peer_id], **data))[0]  # type: ignore
                      │    │                               │    │           └ {'message': '1) Величкин Андрей Александрович 2022-11-24 12:02:04.06ВАЖНО\n\n2) Пирожкова Марина Валентиновна 2022-11-17 13:4...
                      │    │                               │    └ 359707430
                      │    │                               └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13039, date=1669496367, deleted=None, f...
                      │    └ <property object at 0x7fe66cd6d900>
                      └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13039, date=1669496367, deleted=None, f...
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle_types/methods/messages.py", line 206, in send
    response = await self.api.request("messages.send", params)
                     │    │   │                        └ {'random_id': 0, 'peer_ids': '359707430', 'message': '1) Величкин Андрей Александрович 2022-11-24 12:02:04.06ВАЖНО\n\n2) Пиро...
                     │    │   └ <function API.request at 0x7fe66b34ad30>
                     │    └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
                     └ <vkbottle_types.methods.messages.MessagesCategory object at 0x7fe66c2b3ca0>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/api/api.py", line 79, in request
    return await self.validate_response(method, data, response)  # type: ignore
                 │    │                 │       │     └ '{"error":{"error_code":911,"error_msg":"Keyboard format is invalid: row 0 contains too much columns","request_params":[{"key...
                 │    │                 │       └ {'random_id': 0, 'peer_ids': '359707430', 'message': '1) Величкин Андрей Александрович 2022-11-24 12:02:04.06ВАЖНО\n\n2) Пиро...
                 │    │                 └ 'messages.send'
                 │    └ <function API.validate_response at 0x7fe66b34ae50>
                 └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/api/api.py", line 103, in validate_response
    response = await validator.validate(method, data, response, self)  # type: ignore
                     │         │        │       │     │         └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
                     │         │        │       │     └ {'error': {'error_msg': 'Keyboard format is invalid: row 0 contains too much columns', 'request_params': [{'key': 'v', 'value...
                     │         │        │       └ {'random_id': 0, 'peer_ids': '359707430', 'message': '1) Величкин Андрей Александрович 2022-11-24 12:02:04.06ВАЖНО\n\n2) Пиро...
                     │         │        └ 'messages.send'
                     │         └ <function VKAPIErrorResponseValidator.validate at 0x7fe66b34a4c0>
                     └ <vkbottle.api.response_validator.vk_api_error_validator.VKAPIErrorResponseValidator object at 0x7fe66bf57af0>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/api/response_validator/vk_api_error_validator.py", line 48, in validate
    raise VKAPIError[code](**error)
          │          │       └ {'error_msg': 'Keyboard format is invalid: row 0 contains too much columns', 'request_params': [{'key': 'v', 'value': '5.131'...
          │          └ 911
          └ <class 'vkbottle.exception_factory.base_exceptions.VKAPIError'>

vkbottle.exception_factory.code_exception.VKAPIError_911: Keyboard format is invalid: row 0 contains too much columns
2022-11-26 23:59:58.815 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-27 00:00:06.210 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-27 00:00:06.212 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-27 00:00:13.044 | ERROR    | vkbottle.exception_factory.error_handler.error_handler:handle:48 - Keyboard format is invalid: row 0 contains too much columns
Traceback (most recent call last):

  File "school_bot.py", line 1235, in <module>
    bot.run_forever()
    │   └ <function Bot.run_forever at 0x7fc9e2344940>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7fc9e1f64370>

  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/framework/bot/bot.py", line 92, in run_forever
    self.loop_wrapper.run_forever(self.loop)
    │    │            │           │    └ <property object at 0x7fc9e1d6bb30>
    │    │            │           └ <vkbottle.framework.bot.bot.Bot object at 0x7fc9e1f64370>
    │    │            └ <function LoopWrapper.run_forever at 0x7fc9e0a5a160>
    │    └ <vkbottle.tools.dev.loop_wrapper.LoopWrapper object at 0x7fc9e1f64580>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7fc9e1f64370>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/tools/dev/loop_wrapper.py", line 50, in run_forever
    loop.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7fc9e7081dc0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7fc9e7085940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7fc9eab1e280>
    └ <Handle <TaskWakeupMethWrapper object at 0x7fc9e1fde520>(<Future finished result=None>)>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x7fc9e1fde520>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x7fc9e1fde520>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x7fc9e1fde520>(<Future finished result=None>)>
> File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/base.py", line 22, in route
    await view.handle_event(event, ctx_api, self.state_dispenser)
          │    │            │      │        │    └ <vkbottle.dispatch.dispenser.builtin.BuiltinStateDispenser object at 0x7fc9e1f64730>
          │    │            │      │        └ <vkbottle.dispatch.base.Router object at 0x7fc9e1f64820>
          │    │            │      └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
          │    │            └ {'group_id': 215988653, 'type': 'message_new', 'event_id': '8c5b075967968851f8cc11d2ee171ff9b88a9792', 'v': '5.131', 'object'...
          │    └ <function ABCMessageView.handle_event at 0x7fc9e0d80670>
          └ <BotMessageView handlers=[<FromFuncHandler logged_menu blocking=True rules=(<PeerRule>, <PayloadRule>)>, <FromFuncHandler hom...
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/views/abc/message.py", line 73, in handle_event
    handler_response = await handler.handle(message, **context_variables)
                             │       │      │          └ {}
                             │       │      └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13040, date=1669496411, deleted=None, f...
                             │       └ <function FromFuncHandler.handle at 0x7fc9e0de71f0>
                             └ <FromFuncHandler announcements blocking=True rules=(<PeerRule>, <VBMLRule>)>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/handlers/from_func_handler.py", line 32, in handle
    return await self.handler(event, **acceptable_context)
                 │    │       │        └ {}
                 │    │       └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13040, date=1669496411, deleted=None, f...
                 │    └ <function announcements at 0x7fc9e1f61ee0>
                 └ <FromFuncHandler announcements blocking=True rules=(<PeerRule>, <VBMLRule>)>

  File "school_bot.py", line 1017, in announcements
    await message.answer(res, keyboard=keyboard)
          │       │      │             └ <vkbottle.tools.dev.keyboard.keyboard.Keyboard object at 0x7fc9e201eb80>
          │       │      └ '1) Величкин Андрей Александрович 2022-11-24 12:02:04.06ВАЖНО\n\n2) Пирожкова Марина Валентиновна 2022-11-17 13:42:15.667Вним...
          │       └ <function BaseMessageMin.answer at 0x7fc9e0a6faf0>
          └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13040, date=1669496411, deleted=None, f...

  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/tools/dev/mini_types/base/message.py", line 198, in answer
    response = (await self.ctx_api.messages.send(peer_ids=[self.peer_id], **data))[0]  # type: ignore
                      │    │                               │    │           └ {'message': '1) Величкин Андрей Александрович 2022-11-24 12:02:04.06ВАЖНО\n\n2) Пирожкова Марина Валентиновна 2022-11-17 13:4...
                      │    │                               │    └ 359707430
                      │    │                               └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13040, date=1669496411, deleted=None, f...
                      │    └ <property object at 0x7fc9e27f1900>
                      └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13040, date=1669496411, deleted=None, f...
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle_types/methods/messages.py", line 206, in send
    response = await self.api.request("messages.send", params)
                     │    │   │                        └ {'random_id': 0, 'peer_ids': '359707430', 'message': '1) Величкин Андрей Александрович 2022-11-24 12:02:04.06ВАЖНО\n\n2) Пиро...
                     │    │   └ <function API.request at 0x7fc9e0dced30>
                     │    └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
                     └ <vkbottle_types.methods.messages.MessagesCategory object at 0x7fc9e20309d0>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/api/api.py", line 79, in request
    return await self.validate_response(method, data, response)  # type: ignore
                 │    │                 │       │     └ '{"error":{"error_code":911,"error_msg":"Keyboard format is invalid: row 0 contains too much columns","request_params":[{"key...
                 │    │                 │       └ {'random_id': 0, 'peer_ids': '359707430', 'message': '1) Величкин Андрей Александрович 2022-11-24 12:02:04.06ВАЖНО\n\n2) Пиро...
                 │    │                 └ 'messages.send'
                 │    └ <function API.validate_response at 0x7fc9e0dcee50>
                 └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/api/api.py", line 103, in validate_response
    response = await validator.validate(method, data, response, self)  # type: ignore
                     │         │        │       │     │         └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
                     │         │        │       │     └ {'error': {'error_msg': 'Keyboard format is invalid: row 0 contains too much columns', 'request_params': [{'key': 'v', 'value...
                     │         │        │       └ {'random_id': 0, 'peer_ids': '359707430', 'message': '1) Величкин Андрей Александрович 2022-11-24 12:02:04.06ВАЖНО\n\n2) Пиро...
                     │         │        └ 'messages.send'
                     │         └ <function VKAPIErrorResponseValidator.validate at 0x7fc9e0dce4c0>
                     └ <vkbottle.api.response_validator.vk_api_error_validator.VKAPIErrorResponseValidator object at 0x7fc9e0dbafd0>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/api/response_validator/vk_api_error_validator.py", line 48, in validate
    raise VKAPIError[code](**error)
          │          │       └ {'error_msg': 'Keyboard format is invalid: row 0 contains too much columns', 'request_params': [{'key': 'v', 'value': '5.131'...
          │          └ 911
          └ <class 'vkbottle.exception_factory.base_exceptions.VKAPIError'>

vkbottle.exception_factory.code_exception.VKAPIError_911: Keyboard format is invalid: row 0 contains too much columns
2022-11-27 00:00:28.892 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-27 00:00:34.349 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-27 00:00:34.350 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-27 00:00:36.279 | ERROR    | vkbottle.exception_factory.error_handler.error_handler:handle:48 - Keyboard format is invalid: row 1 contains too much columns
Traceback (most recent call last):

  File "school_bot.py", line 1235, in <module>
    bot.run_forever()
    │   └ <function Bot.run_forever at 0x7f57218b5940>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7f5720cca250>

  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/framework/bot/bot.py", line 92, in run_forever
    self.loop_wrapper.run_forever(self.loop)
    │    │            │           │    └ <property object at 0x7f5720f43b30>
    │    │            │           └ <vkbottle.framework.bot.bot.Bot object at 0x7f5720cca250>
    │    │            └ <function LoopWrapper.run_forever at 0x7f571fc32160>
    │    └ <vkbottle.tools.dev.loop_wrapper.LoopWrapper object at 0x7f5720cca460>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7f5720cca250>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/tools/dev/loop_wrapper.py", line 50, in run_forever
    loop.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f5726259dc0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f572625d940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f5729cf6280>
    └ <Handle <TaskWakeupMethWrapper object at 0x7f57211e7400>(<Future finished result=None>)>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x7f57211e7400>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x7f57211e7400>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x7f57211e7400>(<Future finished result=None>)>
> File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/base.py", line 22, in route
    await view.handle_event(event, ctx_api, self.state_dispenser)
          │    │            │      │        │    └ <vkbottle.dispatch.dispenser.builtin.BuiltinStateDispenser object at 0x7f5720cca610>
          │    │            │      │        └ <vkbottle.dispatch.base.Router object at 0x7f5720cca700>
          │    │            │      └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
          │    │            └ {'group_id': 215988653, 'type': 'message_new', 'event_id': '9e53375ad433eb3bf7bd1e4c9ef61af5473dbd06', 'v': '5.131', 'object'...
          │    └ <function ABCMessageView.handle_event at 0x7f571ff59670>
          └ <BotMessageView handlers=[<FromFuncHandler logged_menu blocking=True rules=(<PeerRule>, <PayloadRule>)>, <FromFuncHandler hom...
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/views/abc/message.py", line 73, in handle_event
    handler_response = await handler.handle(message, **context_variables)
                             │       │      │          └ {}
                             │       │      └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13041, date=1669496434, deleted=None, f...
                             │       └ <function FromFuncHandler.handle at 0x7f571ffbf1f0>
                             └ <FromFuncHandler announcements blocking=True rules=(<PeerRule>, <VBMLRule>)>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/handlers/from_func_handler.py", line 32, in handle
    return await self.handler(event, **acceptable_context)
                 │    │       │        └ {}
                 │    │       └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13041, date=1669496434, deleted=None, f...
                 │    └ <function announcements at 0x7f5720cc6ee0>
                 └ <FromFuncHandler announcements blocking=True rules=(<PeerRule>, <VBMLRule>)>

  File "school_bot.py", line 1017, in announcements
    await message.answer(res, keyboard=keyboard)
          │       │      │             └ <vkbottle.tools.dev.keyboard.keyboard.Keyboard object at 0x7f57211f7a60>
          │       │      └ '1) Величкин Андрей Александрович 2022-11-24 12:02:04.06ВАЖНО\n\n2) Пирожкова Марина Валентиновна 2022-11-17 13:42:15.667Вним...
          │       └ <function BaseMessageMin.answer at 0x7f571fc48af0>
          └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13041, date=1669496434, deleted=None, f...

  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/tools/dev/mini_types/base/message.py", line 198, in answer
    response = (await self.ctx_api.messages.send(peer_ids=[self.peer_id], **data))[0]  # type: ignore
                      │    │                               │    │           └ {'message': '1) Величкин Андрей Александрович 2022-11-24 12:02:04.06ВАЖНО\n\n2) Пирожкова Марина Валентиновна 2022-11-17 13:4...
                      │    │                               │    └ 359707430
                      │    │                               └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13041, date=1669496434, deleted=None, f...
                      │    └ <property object at 0x7f57219c8900>
                      └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13041, date=1669496434, deleted=None, f...
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle_types/methods/messages.py", line 206, in send
    response = await self.api.request("messages.send", params)
                     │    │   │                        └ {'random_id': 0, 'peer_ids': '359707430', 'message': '1) Величкин Андрей Александрович 2022-11-24 12:02:04.06ВАЖНО\n\n2) Пиро...
                     │    │   └ <function API.request at 0x7f571ffa5d30>
                     │    └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
                     └ <vkbottle_types.methods.messages.MessagesCategory object at 0x7f572121a8b0>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/api/api.py", line 79, in request
    return await self.validate_response(method, data, response)  # type: ignore
                 │    │                 │       │     └ '{"error":{"error_code":911,"error_msg":"Keyboard format is invalid: row 1 contains too much columns","request_params":[{"key...
                 │    │                 │       └ {'random_id': 0, 'peer_ids': '359707430', 'message': '1) Величкин Андрей Александрович 2022-11-24 12:02:04.06ВАЖНО\n\n2) Пиро...
                 │    │                 └ 'messages.send'
                 │    └ <function API.validate_response at 0x7f571ffa5e50>
                 └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/api/api.py", line 103, in validate_response
    response = await validator.validate(method, data, response, self)  # type: ignore
                     │         │        │       │     │         └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
                     │         │        │       │     └ {'error': {'error_msg': 'Keyboard format is invalid: row 1 contains too much columns', 'request_params': [{'key': 'v', 'value...
                     │         │        │       └ {'random_id': 0, 'peer_ids': '359707430', 'message': '1) Величкин Андрей Александрович 2022-11-24 12:02:04.06ВАЖНО\n\n2) Пиро...
                     │         │        └ 'messages.send'
                     │         └ <function VKAPIErrorResponseValidator.validate at 0x7f571ffa54c0>
                     └ <vkbottle.api.response_validator.vk_api_error_validator.VKAPIErrorResponseValidator object at 0x7f571ff9bd90>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/api/response_validator/vk_api_error_validator.py", line 48, in validate
    raise VKAPIError[code](**error)
          │          │       └ {'error_msg': 'Keyboard format is invalid: row 1 contains too much columns', 'request_params': [{'key': 'v', 'value': '5.131'...
          │          └ 911
          └ <class 'vkbottle.exception_factory.base_exceptions.VKAPIError'>

vkbottle.exception_factory.code_exception.VKAPIError_911: Keyboard format is invalid: row 1 contains too much columns
2022-11-27 00:02:44.100 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-27 00:02:50.152 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-27 00:02:50.154 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-27 00:02:57.955 | ERROR    | vkbottle.exception_factory.error_handler.error_handler:handle:48 - Keyboard format is invalid: buttons contain too much rows
Traceback (most recent call last):

  File "school_bot.py", line 1235, in <module>
    bot.run_forever()
    │   └ <function Bot.run_forever at 0x7f0fbf0c6940>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7f0fbfd77250>

  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/framework/bot/bot.py", line 92, in run_forever
    self.loop_wrapper.run_forever(self.loop)
    │    │            │           │    └ <property object at 0x7f0fbe3d8a90>
    │    │            │           └ <vkbottle.framework.bot.bot.Bot object at 0x7f0fbfd77250>
    │    │            └ <function LoopWrapper.run_forever at 0x7f0fbd441160>
    │    └ <vkbottle.tools.dev.loop_wrapper.LoopWrapper object at 0x7f0fbfd77460>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7f0fbfd77250>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/tools/dev/loop_wrapper.py", line 50, in run_forever
    loop.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f0fc3a69dc0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f0fc3a6c940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f0fc7506280>
    └ <Handle <TaskWakeupMethWrapper object at 0x7f0fbe954400>(<Future finished result=None>)>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x7f0fbe954400>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x7f0fbe954400>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x7f0fbe954400>(<Future finished result=None>)>
> File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/base.py", line 22, in route
    await view.handle_event(event, ctx_api, self.state_dispenser)
          │    │            │      │        │    └ <vkbottle.dispatch.dispenser.builtin.BuiltinStateDispenser object at 0x7f0fbfd77610>
          │    │            │      │        └ <vkbottle.dispatch.base.Router object at 0x7f0fbfd77700>
          │    │            │      └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
          │    │            └ {'group_id': 215988653, 'type': 'message_new', 'event_id': 'ea3119d12af98c8108bf2a0084993a18b69a209b', 'v': '5.131', 'object'...
          │    └ <function ABCMessageView.handle_event at 0x7f0fbd768670>
          └ <BotMessageView handlers=[<FromFuncHandler logged_menu blocking=True rules=(<PeerRule>, <PayloadRule>)>, <FromFuncHandler hom...
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/views/abc/message.py", line 73, in handle_event
    handler_response = await handler.handle(message, **context_variables)
                             │       │      │          └ {}
                             │       │      └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13042, date=1669496574, deleted=None, f...
                             │       └ <function FromFuncHandler.handle at 0x7f0fbd7cf1f0>
                             └ <FromFuncHandler announcements blocking=True rules=(<PeerRule>, <VBMLRule>)>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/handlers/from_func_handler.py", line 32, in handle
    return await self.handler(event, **acceptable_context)
                 │    │       │        └ {}
                 │    │       └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13042, date=1669496574, deleted=None, f...
                 │    └ <function announcements at 0x7f0fbfd3dee0>
                 └ <FromFuncHandler announcements blocking=True rules=(<PeerRule>, <VBMLRule>)>

  File "school_bot.py", line 1017, in announcements
    await message.answer(res, keyboard=keyboard)
          │       │      │             └ <vkbottle.tools.dev.keyboard.keyboard.Keyboard object at 0x7f0fbea26a60>
          │       │      └ '1) Величкин Андрей Александрович 2022-11-24 12:02:04.06ВАЖНО\n\n2) Пирожкова Марина Валентиновна 2022-11-17 13:42:15.667Вним...
          │       └ <function BaseMessageMin.answer at 0x7f0fbd457af0>
          └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13042, date=1669496574, deleted=None, f...

  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/tools/dev/mini_types/base/message.py", line 198, in answer
    response = (await self.ctx_api.messages.send(peer_ids=[self.peer_id], **data))[0]  # type: ignore
                      │    │                               │    │           └ {'message': '1) Величкин Андрей Александрович 2022-11-24 12:02:04.06ВАЖНО\n\n2) Пирожкова Марина Валентиновна 2022-11-17 13:4...
                      │    │                               │    └ 359707430
                      │    │                               └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13042, date=1669496574, deleted=None, f...
                      │    └ <property object at 0x7f0fbf1d9900>
                      └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13042, date=1669496574, deleted=None, f...
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle_types/methods/messages.py", line 206, in send
    response = await self.api.request("messages.send", params)
                     │    │   │                        └ {'random_id': 0, 'peer_ids': '359707430', 'message': '1) Величкин Андрей Александрович 2022-11-24 12:02:04.06ВАЖНО\n\n2) Пиро...
                     │    │   └ <function API.request at 0x7f0fbd7b5d30>
                     │    └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
                     └ <vkbottle_types.methods.messages.MessagesCategory object at 0x7f0fbea338b0>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/api/api.py", line 79, in request
    return await self.validate_response(method, data, response)  # type: ignore
                 │    │                 │       │     └ '{"error":{"error_code":911,"error_msg":"Keyboard format is invalid: buttons contain too much rows","request_params":[{"key":...
                 │    │                 │       └ {'random_id': 0, 'peer_ids': '359707430', 'message': '1) Величкин Андрей Александрович 2022-11-24 12:02:04.06ВАЖНО\n\n2) Пиро...
                 │    │                 └ 'messages.send'
                 │    └ <function API.validate_response at 0x7f0fbd7b5e50>
                 └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/api/api.py", line 103, in validate_response
    response = await validator.validate(method, data, response, self)  # type: ignore
                     │         │        │       │     │         └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
                     │         │        │       │     └ {'error': {'error_msg': 'Keyboard format is invalid: buttons contain too much rows', 'request_params': [{'key': 'v', 'value':...
                     │         │        │       └ {'random_id': 0, 'peer_ids': '359707430', 'message': '1) Величкин Андрей Александрович 2022-11-24 12:02:04.06ВАЖНО\n\n2) Пиро...
                     │         │        └ 'messages.send'
                     │         └ <function VKAPIErrorResponseValidator.validate at 0x7f0fbd7b54c0>
                     └ <vkbottle.api.response_validator.vk_api_error_validator.VKAPIErrorResponseValidator object at 0x7f0fbd7abd90>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/api/response_validator/vk_api_error_validator.py", line 48, in validate
    raise VKAPIError[code](**error)
          │          │       └ {'error_msg': 'Keyboard format is invalid: buttons contain too much rows', 'request_params': [{'key': 'v', 'value': '5.131'},...
          │          └ 911
          └ <class 'vkbottle.exception_factory.base_exceptions.VKAPIError'>

vkbottle.exception_factory.code_exception.VKAPIError_911: Keyboard format is invalid: buttons contain too much rows
2022-11-27 00:03:38.061 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-27 00:03:43.908 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-27 00:03:43.909 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-27 00:03:45.688 | ERROR    | vkbottle.exception_factory.error_handler.error_handler:handle:48 - Keyboard format is invalid: buttons contain too much rows
Traceback (most recent call last):

  File "school_bot.py", line 1235, in <module>
    bot.run_forever()
    │   └ <function Bot.run_forever at 0x7f0da4d81940>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7f0da444e3a0>

  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/framework/bot/bot.py", line 92, in run_forever
    self.loop_wrapper.run_forever(self.loop)
    │    │            │           │    └ <property object at 0x7f0da4924ae0>
    │    │            │           └ <vkbottle.framework.bot.bot.Bot object at 0x7f0da444e3a0>
    │    │            └ <function LoopWrapper.run_forever at 0x7f0da349c160>
    │    └ <vkbottle.tools.dev.loop_wrapper.LoopWrapper object at 0x7f0da444e5b0>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7f0da444e3a0>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/tools/dev/loop_wrapper.py", line 50, in run_forever
    loop.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f0da9ac4dc0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f0da9ac8940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f0dad561280>
    └ <Handle <TaskWakeupMethWrapper object at 0x7f0da4995550>(<Future finished result=None>)>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x7f0da4995550>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x7f0da4995550>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x7f0da4995550>(<Future finished result=None>)>
> File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/base.py", line 22, in route
    await view.handle_event(event, ctx_api, self.state_dispenser)
          │    │            │      │        │    └ <vkbottle.dispatch.dispenser.builtin.BuiltinStateDispenser object at 0x7f0da444e760>
          │    │            │      │        └ <vkbottle.dispatch.base.Router object at 0x7f0da444e850>
          │    │            │      └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
          │    │            └ {'group_id': 215988653, 'type': 'message_new', 'event_id': '0ff0e77df551acb60ec8d431b2d5fa69e5e71afe', 'v': '5.131', 'object'...
          │    └ <function ABCMessageView.handle_event at 0x7f0da37c2670>
          └ <BotMessageView handlers=[<FromFuncHandler logged_menu blocking=True rules=(<PeerRule>, <PayloadRule>)>, <FromFuncHandler hom...
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/views/abc/message.py", line 73, in handle_event
    handler_response = await handler.handle(message, **context_variables)
                             │       │      │          └ {}
                             │       │      └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13043, date=1669496624, deleted=None, f...
                             │       └ <function FromFuncHandler.handle at 0x7f0da38291f0>
                             └ <FromFuncHandler announcements blocking=True rules=(<PeerRule>, <VBMLRule>)>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/handlers/from_func_handler.py", line 32, in handle
    return await self.handler(event, **acceptable_context)
                 │    │       │        └ {}
                 │    │       └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13043, date=1669496624, deleted=None, f...
                 │    └ <function announcements at 0x7f0da444aee0>
                 └ <FromFuncHandler announcements blocking=True rules=(<PeerRule>, <VBMLRule>)>

  File "school_bot.py", line 1017, in announcements
    await message.answer(res, keyboard=keyboard)
          │       │      │             └ <vkbottle.tools.dev.keyboard.keyboard.Keyboard object at 0x7f0da4a86bb0>
          │       │      └ '1) Величкин Андрей Александрович 2022-11-24 12:02:04.06ВАЖНО\n\n2) Пирожкова Марина Валентиновна 2022-11-17 13:42:15.667Вним...
          │       └ <function BaseMessageMin.answer at 0x7f0da34b1af0>
          └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13043, date=1669496624, deleted=None, f...

  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/tools/dev/mini_types/base/message.py", line 198, in answer
    response = (await self.ctx_api.messages.send(peer_ids=[self.peer_id], **data))[0]  # type: ignore
                      │    │                               │    │           └ {'message': '1) Величкин Андрей Александрович 2022-11-24 12:02:04.06ВАЖНО\n\n2) Пирожкова Марина Валентиновна 2022-11-17 13:4...
                      │    │                               │    └ 359707430
                      │    │                               └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13043, date=1669496624, deleted=None, f...
                      │    └ <property object at 0x7f0da5234090>
                      └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13043, date=1669496624, deleted=None, f...
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle_types/methods/messages.py", line 206, in send
    response = await self.api.request("messages.send", params)
                     │    │   │                        └ {'random_id': 0, 'peer_ids': '359707430', 'message': '1) Величкин Андрей Александрович 2022-11-24 12:02:04.06ВАЖНО\n\n2) Пиро...
                     │    │   └ <function API.request at 0x7f0da3810d30>
                     │    └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
                     └ <vkbottle_types.methods.messages.MessagesCategory object at 0x7f0da4a77a00>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/api/api.py", line 79, in request
    return await self.validate_response(method, data, response)  # type: ignore
                 │    │                 │       │     └ '{"error":{"error_code":911,"error_msg":"Keyboard format is invalid: buttons contain too much rows","request_params":[{"key":...
                 │    │                 │       └ {'random_id': 0, 'peer_ids': '359707430', 'message': '1) Величкин Андрей Александрович 2022-11-24 12:02:04.06ВАЖНО\n\n2) Пиро...
                 │    │                 └ 'messages.send'
                 │    └ <function API.validate_response at 0x7f0da3810e50>
                 └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/api/api.py", line 103, in validate_response
    response = await validator.validate(method, data, response, self)  # type: ignore
                     │         │        │       │     │         └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
                     │         │        │       │     └ {'error': {'error_msg': 'Keyboard format is invalid: buttons contain too much rows', 'request_params': [{'key': 'v', 'value':...
                     │         │        │       └ {'random_id': 0, 'peer_ids': '359707430', 'message': '1) Величкин Андрей Александрович 2022-11-24 12:02:04.06ВАЖНО\n\n2) Пиро...
                     │         │        └ 'messages.send'
                     │         └ <function VKAPIErrorResponseValidator.validate at 0x7f0da38104c0>
                     └ <vkbottle.api.response_validator.vk_api_error_validator.VKAPIErrorResponseValidator object at 0x7f0da441fa30>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/api/response_validator/vk_api_error_validator.py", line 48, in validate
    raise VKAPIError[code](**error)
          │          │       └ {'error_msg': 'Keyboard format is invalid: buttons contain too much rows', 'request_params': [{'key': 'v', 'value': '5.131'},...
          │          └ 911
          └ <class 'vkbottle.exception_factory.base_exceptions.VKAPIError'>

vkbottle.exception_factory.code_exception.VKAPIError_911: Keyboard format is invalid: buttons contain too much rows
2022-11-27 00:06:51.229 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-27 00:06:57.117 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-27 00:06:57.119 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-27 00:06:59.127 | ERROR    | vkbottle.exception_factory.error_handler.error_handler:handle:48 - Keyboard format is invalid: row 8 contains too much columns
Traceback (most recent call last):

  File "school_bot.py", line 1235, in <module>
    bot.run_forever()
    │   └ <function Bot.run_forever at 0x7fb397b5c940>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7fb3977f67c0>

  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/framework/bot/bot.py", line 92, in run_forever
    self.loop_wrapper.run_forever(self.loop)
    │    │            │           │    └ <property object at 0x7fb3975d5c70>
    │    │            │           └ <vkbottle.framework.bot.bot.Bot object at 0x7fb3977f67c0>
    │    │            └ <function LoopWrapper.run_forever at 0x7fb39627a160>
    │    └ <vkbottle.tools.dev.loop_wrapper.LoopWrapper object at 0x7fb3977f69d0>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7fb3977f67c0>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/tools/dev/loop_wrapper.py", line 50, in run_forever
    loop.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7fb39c8a1dc0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7fb39c8a5940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7fb3a033e280>
    └ <Handle <TaskWakeupMethWrapper object at 0x7fb397e5a970>(<Future finished result=None>)>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x7fb397e5a970>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x7fb397e5a970>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x7fb397e5a970>(<Future finished result=None>)>
> File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/base.py", line 22, in route
    await view.handle_event(event, ctx_api, self.state_dispenser)
          │    │            │      │        │    └ <vkbottle.dispatch.dispenser.builtin.BuiltinStateDispenser object at 0x7fb3977f6b80>
          │    │            │      │        └ <vkbottle.dispatch.base.Router object at 0x7fb3977f6c70>
          │    │            │      └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
          │    │            └ {'group_id': 215988653, 'type': 'message_new', 'event_id': '2b2a820ef49a5f4f5d90c02dc0a642e31c50a612', 'v': '5.131', 'object'...
          │    └ <function ABCMessageView.handle_event at 0x7fb3965a0670>
          └ <BotMessageView handlers=[<FromFuncHandler logged_menu blocking=True rules=(<PeerRule>, <PayloadRule>)>, <FromFuncHandler hom...
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/views/abc/message.py", line 73, in handle_event
    handler_response = await handler.handle(message, **context_variables)
                             │       │      │          └ {}
                             │       │      └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13044, date=1669496817, deleted=None, f...
                             │       └ <function FromFuncHandler.handle at 0x7fb3966071f0>
                             └ <FromFuncHandler announcements blocking=True rules=(<PeerRule>, <VBMLRule>)>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/handlers/from_func_handler.py", line 32, in handle
    return await self.handler(event, **acceptable_context)
                 │    │       │        └ {}
                 │    │       └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13044, date=1669496817, deleted=None, f...
                 │    └ <function announcements at 0x7fb3977f1ee0>
                 └ <FromFuncHandler announcements blocking=True rules=(<PeerRule>, <VBMLRule>)>

  File "school_bot.py", line 1017, in announcements
    await message.answer(res, keyboard=keyboard)
          │       │      │             └ <vkbottle.tools.dev.keyboard.keyboard.Keyboard object at 0x7fb3971cb310>
          │       │      └ '1) Величкин Андрей Александрович 2022-11-24 12:02:04.06ВАЖНО\n\n2) Пирожкова Марина Валентиновна 2022-11-17 13:42:15.667Вним...
          │       └ <function BaseMessageMin.answer at 0x7fb396290af0>
          └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13044, date=1669496817, deleted=None, f...

  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/tools/dev/mini_types/base/message.py", line 198, in answer
    response = (await self.ctx_api.messages.send(peer_ids=[self.peer_id], **data))[0]  # type: ignore
                      │    │                               │    │           └ {'message': '1) Величкин Андрей Александрович 2022-11-24 12:02:04.06ВАЖНО\n\n2) Пирожкова Марина Валентиновна 2022-11-17 13:4...
                      │    │                               │    └ 359707430
                      │    │                               └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13044, date=1669496817, deleted=None, f...
                      │    └ <property object at 0x7fb398010900>
                      └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13044, date=1669496817, deleted=None, f...
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle_types/methods/messages.py", line 206, in send
    response = await self.api.request("messages.send", params)
                     │    │   │                        └ {'random_id': 0, 'peer_ids': '359707430', 'message': '1) Величкин Андрей Александрович 2022-11-24 12:02:04.06ВАЖНО\n\n2) Пиро...
                     │    │   └ <function API.request at 0x7fb3965efd30>
                     │    └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
                     └ <vkbottle_types.methods.messages.MessagesCategory object at 0x7fb39750ee20>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/api/api.py", line 79, in request
    return await self.validate_response(method, data, response)  # type: ignore
                 │    │                 │       │     └ '{"error":{"error_code":911,"error_msg":"Keyboard format is invalid: row 8 contains too much columns","request_params":[{"key...
                 │    │                 │       └ {'random_id': 0, 'peer_ids': '359707430', 'message': '1) Величкин Андрей Александрович 2022-11-24 12:02:04.06ВАЖНО\n\n2) Пиро...
                 │    │                 └ 'messages.send'
                 │    └ <function API.validate_response at 0x7fb3965efe50>
                 └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/api/api.py", line 103, in validate_response
    response = await validator.validate(method, data, response, self)  # type: ignore
                     │         │        │       │     │         └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
                     │         │        │       │     └ {'error': {'error_msg': 'Keyboard format is invalid: row 8 contains too much columns', 'request_params': [{'key': 'v', 'value...
                     │         │        │       └ {'random_id': 0, 'peer_ids': '359707430', 'message': '1) Величкин Андрей Александрович 2022-11-24 12:02:04.06ВАЖНО\n\n2) Пиро...
                     │         │        └ 'messages.send'
                     │         └ <function VKAPIErrorResponseValidator.validate at 0x7fb3965ef4c0>
                     └ <vkbottle.api.response_validator.vk_api_error_validator.VKAPIErrorResponseValidator object at 0x7fb3971facd0>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/api/response_validator/vk_api_error_validator.py", line 48, in validate
    raise VKAPIError[code](**error)
          │          │       └ {'error_msg': 'Keyboard format is invalid: row 8 contains too much columns', 'request_params': [{'key': 'v', 'value': '5.131'...
          │          └ 911
          └ <class 'vkbottle.exception_factory.base_exceptions.VKAPIError'>

vkbottle.exception_factory.code_exception.VKAPIError_911: Keyboard format is invalid: row 8 contains too much columns
2022-11-27 00:07:35.673 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-27 00:07:42.868 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-27 00:07:42.870 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-27 00:07:48.293 | ERROR    | vkbottle.exception_factory.error_handler.error_handler:handle:48 - Keyboard format is invalid: row 6 contains too much columns
Traceback (most recent call last):

  File "school_bot.py", line 1235, in <module>
    bot.run_forever()
    │   └ <function Bot.run_forever at 0x7f5b7f35d940>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7f5b7e76b1c0>

  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/framework/bot/bot.py", line 92, in run_forever
    self.loop_wrapper.run_forever(self.loop)
    │    │            │           │    └ <property object at 0x7f5b7e9e3db0>
    │    │            │           └ <vkbottle.framework.bot.bot.Bot object at 0x7f5b7e76b1c0>
    │    │            └ <function LoopWrapper.run_forever at 0x7f5b7d6d4160>
    │    └ <vkbottle.tools.dev.loop_wrapper.LoopWrapper object at 0x7f5b7e76b3d0>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7f5b7e76b1c0>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/tools/dev/loop_wrapper.py", line 50, in run_forever
    loop.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f5b83cfbdc0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f5b83cff940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f5b87798280>
    └ <Handle <TaskWakeupMethWrapper object at 0x7f5b7fb2d370>(<Future finished result=None>)>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x7f5b7fb2d370>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x7f5b7fb2d370>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x7f5b7fb2d370>(<Future finished result=None>)>
> File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/base.py", line 22, in route
    await view.handle_event(event, ctx_api, self.state_dispenser)
          │    │            │      │        │    └ <vkbottle.dispatch.dispenser.builtin.BuiltinStateDispenser object at 0x7f5b7e76b580>
          │    │            │      │        └ <vkbottle.dispatch.base.Router object at 0x7f5b7e76b670>
          │    │            │      └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
          │    │            └ {'group_id': 215988653, 'type': 'message_new', 'event_id': '2a51b022a7d3f47b0dd4fc636c130cc2ee326292', 'v': '5.131', 'object'...
          │    └ <function ABCMessageView.handle_event at 0x7f5b7d9fb670>
          └ <BotMessageView handlers=[<FromFuncHandler logged_menu blocking=True rules=(<PeerRule>, <PayloadRule>)>, <FromFuncHandler hom...
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/views/abc/message.py", line 73, in handle_event
    handler_response = await handler.handle(message, **context_variables)
                             │       │      │          └ {}
                             │       │      └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13045, date=1669496866, deleted=None, f...
                             │       └ <function FromFuncHandler.handle at 0x7f5b7da611f0>
                             └ <FromFuncHandler announcements blocking=True rules=(<PeerRule>, <VBMLRule>)>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/handlers/from_func_handler.py", line 32, in handle
    return await self.handler(event, **acceptable_context)
                 │    │       │        └ {}
                 │    │       └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13045, date=1669496866, deleted=None, f...
                 │    └ <function announcements at 0x7f5b7e750ee0>
                 └ <FromFuncHandler announcements blocking=True rules=(<PeerRule>, <VBMLRule>)>

  File "school_bot.py", line 1017, in announcements
    await message.answer(res, keyboard=keyboard)
          │       │      │             └ <vkbottle.tools.dev.keyboard.keyboard.Keyboard object at 0x7f5b7ec999d0>
          │       │      └ '1) Величкин Андрей Александрович 2022-11-24 12:02:04.06ВАЖНО\n\n2) Пирожкова Марина Валентиновна 2022-11-17 13:42:15.667Вним...
          │       └ <function BaseMessageMin.answer at 0x7f5b7d6eaaf0>
          └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13045, date=1669496866, deleted=None, f...

  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/tools/dev/mini_types/base/message.py", line 198, in answer
    response = (await self.ctx_api.messages.send(peer_ids=[self.peer_id], **data))[0]  # type: ignore
                      │    │                               │    │           └ {'message': '1) Величкин Андрей Александрович 2022-11-24 12:02:04.06ВАЖНО\n\n2) Пирожкова Марина Валентиновна 2022-11-17 13:4...
                      │    │                               │    └ 359707430
                      │    │                               └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13045, date=1669496866, deleted=None, f...
                      │    └ <property object at 0x7f5b7f46c900>
                      └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13045, date=1669496866, deleted=None, f...
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle_types/methods/messages.py", line 206, in send
    response = await self.api.request("messages.send", params)
                     │    │   │                        └ {'random_id': 0, 'peer_ids': '359707430', 'message': '1) Величкин Андрей Александрович 2022-11-24 12:02:04.06ВАЖНО\n\n2) Пиро...
                     │    │   └ <function API.request at 0x7f5b7da47d30>
                     │    └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
                     └ <vkbottle_types.methods.messages.MessagesCategory object at 0x7f5b7ecc9820>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/api/api.py", line 79, in request
    return await self.validate_response(method, data, response)  # type: ignore
                 │    │                 │       │     └ '{"error":{"error_code":911,"error_msg":"Keyboard format is invalid: row 6 contains too much columns","request_params":[{"key...
                 │    │                 │       └ {'random_id': 0, 'peer_ids': '359707430', 'message': '1) Величкин Андрей Александрович 2022-11-24 12:02:04.06ВАЖНО\n\n2) Пиро...
                 │    │                 └ 'messages.send'
                 │    └ <function API.validate_response at 0x7f5b7da47e50>
                 └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/api/api.py", line 103, in validate_response
    response = await validator.validate(method, data, response, self)  # type: ignore
                     │         │        │       │     │         └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
                     │         │        │       │     └ {'error': {'error_msg': 'Keyboard format is invalid: row 6 contains too much columns', 'request_params': [{'key': 'v', 'value...
                     │         │        │       └ {'random_id': 0, 'peer_ids': '359707430', 'message': '1) Величкин Андрей Александрович 2022-11-24 12:02:04.06ВАЖНО\n\n2) Пиро...
                     │         │        └ 'messages.send'
                     │         └ <function VKAPIErrorResponseValidator.validate at 0x7f5b7da474c0>
                     └ <vkbottle.api.response_validator.vk_api_error_validator.VKAPIErrorResponseValidator object at 0x7f5b7da3fd00>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/api/response_validator/vk_api_error_validator.py", line 48, in validate
    raise VKAPIError[code](**error)
          │          │       └ {'error_msg': 'Keyboard format is invalid: row 6 contains too much columns', 'request_params': [{'key': 'v', 'value': '5.131'...
          │          └ 911
          └ <class 'vkbottle.exception_factory.base_exceptions.VKAPIError'>

vkbottle.exception_factory.code_exception.VKAPIError_911: Keyboard format is invalid: row 6 contains too much columns
2022-11-27 00:08:00.538 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-27 00:08:07.717 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-27 00:08:07.719 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-27 00:08:12.050 | ERROR    | vkbottle.exception_factory.error_handler.error_handler:handle:48 - Keyboard format is invalid: row 9 contains too much columns
Traceback (most recent call last):

  File "school_bot.py", line 1235, in <module>
    bot.run_forever()
    │   └ <function Bot.run_forever at 0x7fa66feba940>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7fa66fac0430>

  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/framework/bot/bot.py", line 92, in run_forever
    self.loop_wrapper.run_forever(self.loop)
    │    │            │           │    └ <property object at 0x7fa66f6d7cc0>
    │    │            │           └ <vkbottle.framework.bot.bot.Bot object at 0x7fa66fac0430>
    │    │            └ <function LoopWrapper.run_forever at 0x7fa66e5c5160>
    │    └ <vkbottle.tools.dev.loop_wrapper.LoopWrapper object at 0x7fa66fac0640>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7fa66fac0430>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/tools/dev/loop_wrapper.py", line 50, in run_forever
    loop.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7fa674becdc0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7fa674bef940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7fa678689280>
    └ <Handle <TaskWakeupMethWrapper object at 0x7fa66fb495e0>(<Future finished result=None>)>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x7fa66fb495e0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x7fa66fb495e0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x7fa66fb495e0>(<Future finished result=None>)>
> File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/base.py", line 22, in route
    await view.handle_event(event, ctx_api, self.state_dispenser)
          │    │            │      │        │    └ <vkbottle.dispatch.dispenser.builtin.BuiltinStateDispenser object at 0x7fa66fac07f0>
          │    │            │      │        └ <vkbottle.dispatch.base.Router object at 0x7fa66fac08e0>
          │    │            │      └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
          │    │            └ {'group_id': 215988653, 'type': 'message_new', 'event_id': '19cffc8e344d2fb291bef168b805a91289f17e45', 'v': '5.131', 'object'...
          │    └ <function ABCMessageView.handle_event at 0x7fa66e8ea670>
          └ <BotMessageView handlers=[<FromFuncHandler logged_menu blocking=True rules=(<PeerRule>, <PayloadRule>)>, <FromFuncHandler hom...
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/views/abc/message.py", line 73, in handle_event
    handler_response = await handler.handle(message, **context_variables)
                             │       │      │          └ {}
                             │       │      └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13046, date=1669496890, deleted=None, f...
                             │       └ <function FromFuncHandler.handle at 0x7fa66e9521f0>
                             └ <FromFuncHandler announcements blocking=True rules=(<PeerRule>, <VBMLRule>)>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/handlers/from_func_handler.py", line 32, in handle
    return await self.handler(event, **acceptable_context)
                 │    │       │        └ {}
                 │    │       └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13046, date=1669496890, deleted=None, f...
                 │    └ <function announcements at 0x7fa66faccee0>
                 └ <FromFuncHandler announcements blocking=True rules=(<PeerRule>, <VBMLRule>)>

  File "school_bot.py", line 1017, in announcements
    await message.answer(res, keyboard=keyboard)
          │       │      │             └ <vkbottle.tools.dev.keyboard.keyboard.Keyboard object at 0x7fa66f882c40>
          │       │      └ '1) Величкин Андрей Александрович 2022-11-24 12:02:04.06ВАЖНО\n\n2) Пирожкова Марина Валентиновна 2022-11-17 13:42:15.667Вним...
          │       └ <function BaseMessageMin.answer at 0x7fa66e5daaf0>
          └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13046, date=1669496890, deleted=None, f...

  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/tools/dev/mini_types/base/message.py", line 198, in answer
    response = (await self.ctx_api.messages.send(peer_ids=[self.peer_id], **data))[0]  # type: ignore
                      │    │                               │    │           └ {'message': '1) Величкин Андрей Александрович 2022-11-24 12:02:04.06ВАЖНО\n\n2) Пирожкова Марина Валентиновна 2022-11-17 13:4...
                      │    │                               │    └ 359707430
                      │    │                               └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13046, date=1669496890, deleted=None, f...
                      │    └ <property object at 0x7fa67035c900>
                      └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13046, date=1669496890, deleted=None, f...
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle_types/methods/messages.py", line 206, in send
    response = await self.api.request("messages.send", params)
                     │    │   │                        └ {'random_id': 0, 'peer_ids': '359707430', 'message': '1) Величкин Андрей Александрович 2022-11-24 12:02:04.06ВАЖНО\n\n2) Пиро...
                     │    │   └ <function API.request at 0x7fa66e938d30>
                     │    └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
                     └ <vkbottle_types.methods.messages.MessagesCategory object at 0x7fa66f894a90>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/api/api.py", line 79, in request
    return await self.validate_response(method, data, response)  # type: ignore
                 │    │                 │       │     └ '{"error":{"error_code":911,"error_msg":"Keyboard format is invalid: row 9 contains too much columns","request_params":[{"key...
                 │    │                 │       └ {'random_id': 0, 'peer_ids': '359707430', 'message': '1) Величкин Андрей Александрович 2022-11-24 12:02:04.06ВАЖНО\n\n2) Пиро...
                 │    │                 └ 'messages.send'
                 │    └ <function API.validate_response at 0x7fa66e938e50>
                 └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/api/api.py", line 103, in validate_response
    response = await validator.validate(method, data, response, self)  # type: ignore
                     │         │        │       │     │         └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
                     │         │        │       │     └ {'error': {'error_msg': 'Keyboard format is invalid: row 9 contains too much columns', 'request_params': [{'key': 'v', 'value...
                     │         │        │       └ {'random_id': 0, 'peer_ids': '359707430', 'message': '1) Величкин Андрей Александрович 2022-11-24 12:02:04.06ВАЖНО\n\n2) Пиро...
                     │         │        └ 'messages.send'
                     │         └ <function VKAPIErrorResponseValidator.validate at 0x7fa66e9384c0>
                     └ <vkbottle.api.response_validator.vk_api_error_validator.VKAPIErrorResponseValidator object at 0x7fa66f546940>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/api/response_validator/vk_api_error_validator.py", line 48, in validate
    raise VKAPIError[code](**error)
          │          │       └ {'error_msg': 'Keyboard format is invalid: row 9 contains too much columns', 'request_params': [{'key': 'v', 'value': '5.131'...
          │          └ 911
          └ <class 'vkbottle.exception_factory.base_exceptions.VKAPIError'>

vkbottle.exception_factory.code_exception.VKAPIError_911: Keyboard format is invalid: row 9 contains too much columns
2022-11-27 00:10:00.429 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-27 00:10:07.103 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-27 00:10:07.105 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-27 00:10:09.098 | ERROR    | vkbottle.exception_factory.error_handler.error_handler:handle:48 - Keyboard format is invalid: row 9 contains too much columns
Traceback (most recent call last):

  File "school_bot.py", line 1235, in <module>
    bot.run_forever()
    │   └ <function Bot.run_forever at 0x7f77dfaf3940>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7f77df33a280>

  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/framework/bot/bot.py", line 92, in run_forever
    self.loop_wrapper.run_forever(self.loop)
    │    │            │           │    └ <property object at 0x7f77df1b6c70>
    │    │            │           └ <vkbottle.framework.bot.bot.Bot object at 0x7f77df33a280>
    │    │            └ <function LoopWrapper.run_forever at 0x7f77dde59160>
    │    └ <vkbottle.tools.dev.loop_wrapper.LoopWrapper object at 0x7f77df33a490>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7f77df33a280>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/tools/dev/loop_wrapper.py", line 50, in run_forever
    loop.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f77e4480dc0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f77e4484940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f77e7f1d280>
    └ <Handle <TaskWakeupMethWrapper object at 0x7f77e01d8430>(<Future finished result=None>)>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x7f77e01d8430>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x7f77e01d8430>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x7f77e01d8430>(<Future finished result=None>)>
> File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/base.py", line 22, in route
    await view.handle_event(event, ctx_api, self.state_dispenser)
          │    │            │      │        │    └ <vkbottle.dispatch.dispenser.builtin.BuiltinStateDispenser object at 0x7f77df33a640>
          │    │            │      │        └ <vkbottle.dispatch.base.Router object at 0x7f77df33a730>
          │    │            │      └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
          │    │            └ {'group_id': 215988653, 'type': 'message_new', 'event_id': 'ce9388a6754de3d1c1f5f22460940f920f9f8239', 'v': '5.131', 'object'...
          │    └ <function ABCMessageView.handle_event at 0x7f77de17f670>
          └ <BotMessageView handlers=[<FromFuncHandler logged_menu blocking=True rules=(<PeerRule>, <PayloadRule>)>, <FromFuncHandler hom...
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/views/abc/message.py", line 73, in handle_event
    handler_response = await handler.handle(message, **context_variables)
                             │       │      │          └ {}
                             │       │      └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13047, date=1669497008, deleted=None, f...
                             │       └ <function FromFuncHandler.handle at 0x7f77de1e61f0>
                             └ <FromFuncHandler announcements blocking=True rules=(<PeerRule>, <VBMLRule>)>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/handlers/from_func_handler.py", line 32, in handle
    return await self.handler(event, **acceptable_context)
                 │    │       │        └ {}
                 │    │       └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13047, date=1669497008, deleted=None, f...
                 │    └ <function announcements at 0x7f77df316ee0>
                 └ <FromFuncHandler announcements blocking=True rules=(<PeerRule>, <VBMLRule>)>

  File "school_bot.py", line 1017, in announcements
    await message.answer(res, keyboard=keyboard)
          │       │      │             └ <vkbottle.tools.dev.keyboard.keyboard.Keyboard object at 0x7f77df0dda90>
          │       │      └ '1) Величкин Андрей Александрович 2022-11-24 12:02:04.06ВАЖНО\n\n2) Пирожкова Марина Валентиновна 2022-11-17 13:42:15.667Вним...
          │       └ <function BaseMessageMin.answer at 0x7f77dde6eaf0>
          └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13047, date=1669497008, deleted=None, f...

  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/tools/dev/mini_types/base/message.py", line 198, in answer
    response = (await self.ctx_api.messages.send(peer_ids=[self.peer_id], **data))[0]  # type: ignore
                      │    │                               │    │           └ {'message': '1) Величкин Андрей Александрович 2022-11-24 12:02:04.06ВАЖНО\n\n2) Пирожкова Марина Валентиновна 2022-11-17 13:4...
                      │    │                               │    └ 359707430
                      │    │                               └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13047, date=1669497008, deleted=None, f...
                      │    └ <property object at 0x7f77dfbf0900>
                      └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13047, date=1669497008, deleted=None, f...
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle_types/methods/messages.py", line 206, in send
    response = await self.api.request("messages.send", params)
                     │    │   │                        └ {'random_id': 0, 'peer_ids': '359707430', 'message': '1) Величкин Андрей Александрович 2022-11-24 12:02:04.06ВАЖНО\n\n2) Пиро...
                     │    │   └ <function API.request at 0x7f77de1ccd30>
                     │    └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
                     └ <vkbottle_types.methods.messages.MessagesCategory object at 0x7f77deda98e0>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/api/api.py", line 79, in request
    return await self.validate_response(method, data, response)  # type: ignore
                 │    │                 │       │     └ '{"error":{"error_code":911,"error_msg":"Keyboard format is invalid: row 9 contains too much columns","request_params":[{"key...
                 │    │                 │       └ {'random_id': 0, 'peer_ids': '359707430', 'message': '1) Величкин Андрей Александрович 2022-11-24 12:02:04.06ВАЖНО\n\n2) Пиро...
                 │    │                 └ 'messages.send'
                 │    └ <function API.validate_response at 0x7f77de1cce50>
                 └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/api/api.py", line 103, in validate_response
    response = await validator.validate(method, data, response, self)  # type: ignore
                     │         │        │       │     │         └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
                     │         │        │       │     └ {'error': {'error_msg': 'Keyboard format is invalid: row 9 contains too much columns', 'request_params': [{'key': 'v', 'value...
                     │         │        │       └ {'random_id': 0, 'peer_ids': '359707430', 'message': '1) Величкин Андрей Александрович 2022-11-24 12:02:04.06ВАЖНО\n\n2) Пиро...
                     │         │        └ 'messages.send'
                     │         └ <function VKAPIErrorResponseValidator.validate at 0x7f77de1cc4c0>
                     └ <vkbottle.api.response_validator.vk_api_error_validator.VKAPIErrorResponseValidator object at 0x7f77de1c1dc0>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/api/response_validator/vk_api_error_validator.py", line 48, in validate
    raise VKAPIError[code](**error)
          │          │       └ {'error_msg': 'Keyboard format is invalid: row 9 contains too much columns', 'request_params': [{'key': 'v', 'value': '5.131'...
          │          └ 911
          └ <class 'vkbottle.exception_factory.base_exceptions.VKAPIError'>

vkbottle.exception_factory.code_exception.VKAPIError_911: Keyboard format is invalid: row 9 contains too much columns
2022-11-27 00:11:00.672 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-27 00:11:10.669 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-27 00:11:10.675 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-27 15:10:45.367 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-27 15:11:01.252 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-27 15:11:01.254 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-27 15:11:05.444 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-27 15:11:11.465 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-27 15:11:11.466 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-27 15:14:07.003 | INFO     | __main__:lessons_attachment:629 - {'id': 147896789, 'assignmentName': 'Смотрите подробности для учеников', 'activityName': None, 'problemName': None, 'subjectGroup': {'id': 3272062, 'name': '11*/Физика/11а'}, 'teachers': [{'id': 577974, 'name': 'Марченко Анна Васильевна'}], 'productId': None, 'isDeleted': False, 'weight': 10, 'date': '2022-11-24T00:00:00', 'description': 'Переменный ток и виды сопротивлений в цепи переменного тока - по конспекту в тетради', 'attachments': []} 359707430
2022-11-27 15:14:51.687 | INFO     | __main__:lessons_attachment:629 - {'id': 146433630, 'assignmentName': 'выступление по тезисам с Актугановой по Конюкову', 'activityName': None, 'problemName': None, 'subjectGroup': {'id': 3242307, 'name': '11*/Индивидуальный проект/11а'}, 'teachers': [{'id': 1193981, 'name': 'Горюнова Юлия Николаевна'}], 'productId': None, 'isDeleted': False, 'weight': 10, 'date': '2022-11-14T00:00:00', 'description': None, 'attachments': [{'id': 4906767, 'name': 'snimok-ekrana.png', 'originalFileName': 'snimok-ekrana.png', 'description': None}, {'id': 4906768, 'name': 'ОСПРИЯТИЕ ОТЕЧЕСТВЕННЫХ И ЗАРУБЕЖНЫХ БРЕНДОВ РОССИЙСКИМИ ПОТРЕБИТЕЛЯМИ.docx', 'originalFileName': 'ОСПРИЯТИЕ ОТЕЧЕСТВЕННЫХ И ЗАРУБЕЖНЫХ БРЕНДОВ РОССИЙСКИМИ ПОТРЕБИТЕЛЯМИ.docx', 'description': None}]} 359707430
2022-11-27 16:36:23.808 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-27 16:36:23.810 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-27 16:37:30.491 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-27 16:54:19.538 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-27 16:54:19.540 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-27 17:00:31.606 | ERROR    | vkbottle.exception_factory.error_handler.error_handler:handle:48 - list index out of range
Traceback (most recent call last):

  File "school_bot.py", line 1163, in <module>
    bot.run_forever()
    │   └ <function Bot.run_forever at 0x7f493fa1e700>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7f493f1ef520>

  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/framework/bot/bot.py", line 92, in run_forever
    self.loop_wrapper.run_forever(self.loop)
    │    │            │           │    └ <property object at 0x7f493f575360>
    │    │            │           └ <vkbottle.framework.bot.bot.Bot object at 0x7f493f1ef520>
    │    │            └ <function LoopWrapper.run_forever at 0x7f493d55bee0>
    │    └ <vkbottle.tools.dev.loop_wrapper.LoopWrapper object at 0x7f493f1ef730>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7f493f1ef520>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/tools/dev/loop_wrapper.py", line 50, in run_forever
    loop.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f4942f16dc0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f4942f19940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f49469f2280>
    └ <Handle <TaskStepMethWrapper object at 0x7f49403e49d0>()>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x7f49403e49d0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x7f49403e49d0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x7f49403e49d0>()>
> File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/base.py", line 22, in route
    await view.handle_event(event, ctx_api, self.state_dispenser)
          │    │            │      │        │    └ <vkbottle.dispatch.dispenser.builtin.BuiltinStateDispenser object at 0x7f493f1ef8e0>
          │    │            │      │        └ <vkbottle.dispatch.base.Router object at 0x7f493f1ef9d0>
          │    │            │      └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
          │    │            └ {'group_id': 215988653, 'type': 'message_new', 'event_id': 'ab96a0155b66cbc7e8ba48aa7e17c2e727e45cb6', 'v': '5.131', 'object'...
          │    └ <function ABCMessageView.handle_event at 0x7f493d88d430>
          └ <BotMessageView handlers=[<FromFuncHandler logged_menu blocking=True rules=(<PeerRule>, <PayloadRule>)>, <FromFuncHandler hom...
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/views/abc/message.py", line 73, in handle_event
    handler_response = await handler.handle(message, **context_variables)
                             │       │      │          └ {}
                             │       │      └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13243, date=1669557631, deleted=None, f...
                             │       └ <function FromFuncHandler.handle at 0x7f493d8e8f70>
                             └ <FromFuncHandler logged_menu_auto blocking=True rules=(<PeerRule>,)>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/handlers/from_func_handler.py", line 32, in handle
    return await self.handler(event, **acceptable_context)
                 │    │       │        └ {}
                 │    │       └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13243, date=1669557631, deleted=None, f...
                 │    └ <function logged_menu_auto at 0x7f493f50d670>
                 └ <FromFuncHandler logged_menu_auto blocking=True rules=(<PeerRule>,)>

  File "school_bot.py", line 1127, in logged_menu_auto
    user = db.get(message.from_id)[0][-2]
           │  │   │       └ 359707430
           │  │   └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13243, date=1669557631, deleted=None, f...
           │  └ <function BotDB.get at 0x7f493fa1aaf0>
           └ <botdb.BotDB object at 0x7f493f1ef4f0>

IndexError: list index out of range
2022-11-27 17:01:10.393 | ERROR    | vkbottle.exception_factory.error_handler.error_handler:handle:48 - invalid literal for int() with base 10: 'е'
Traceback (most recent call last):

  File "school_bot.py", line 1163, in <module>
    bot.run_forever()
    │   └ <function Bot.run_forever at 0x7f493fa1e700>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7f493f1ef520>

  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/framework/bot/bot.py", line 92, in run_forever
    self.loop_wrapper.run_forever(self.loop)
    │    │            │           │    └ <property object at 0x7f493f575360>
    │    │            │           └ <vkbottle.framework.bot.bot.Bot object at 0x7f493f1ef520>
    │    │            └ <function LoopWrapper.run_forever at 0x7f493d55bee0>
    │    └ <vkbottle.tools.dev.loop_wrapper.LoopWrapper object at 0x7f493f1ef730>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7f493f1ef520>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/tools/dev/loop_wrapper.py", line 50, in run_forever
    loop.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f4942f16dc0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f4942f19940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f49469f2280>
    └ <Handle <TaskWakeupMethWrapper object at 0x7f49409d62e0>(<Future finished result=None>)>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x7f49409d62e0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x7f49409d62e0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x7f49409d62e0>(<Future finished result=None>)>
> File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/base.py", line 22, in route
    await view.handle_event(event, ctx_api, self.state_dispenser)
          │    │            │      │        │    └ <vkbottle.dispatch.dispenser.builtin.BuiltinStateDispenser object at 0x7f493f1ef8e0>
          │    │            │      │        └ <vkbottle.dispatch.base.Router object at 0x7f493f1ef9d0>
          │    │            │      └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
          │    │            └ {'group_id': 215988653, 'type': 'message_new', 'event_id': '8da862be9573edf61d4fd6b677215a84d2f2012d', 'v': '5.131', 'object'...
          │    └ <function ABCMessageView.handle_event at 0x7f493d88d430>
          └ <BotMessageView handlers=[<FromFuncHandler logged_menu blocking=True rules=(<PeerRule>, <PayloadRule>)>, <FromFuncHandler hom...
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/views/abc/message.py", line 73, in handle_event
    handler_response = await handler.handle(message, **context_variables)
                             │       │      │          └ {}
                             │       │      └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13253, date=1669557670, deleted=None, f...
                             │       └ <function FromFuncHandler.handle at 0x7f493d8e8f70>
                             └ <FromFuncHandler homework_day blocking=True rules=(<PayloadRule>,)>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/handlers/from_func_handler.py", line 32, in handle
    return await self.handler(event, **acceptable_context)
                 │    │       │        └ {}
                 │    │       └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13253, date=1669557670, deleted=None, f...
                 │    └ <function homework_day at 0x7f493f4e10d0>
                 └ <FromFuncHandler homework_day blocking=True rules=(<PayloadRule>,)>

  File "school_bot.py", line 246, in homework_day
    image = create_img(res, message.from_id)
            │          │    │       └ 359707430
            │          │    └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13253, date=1669557670, deleted=None, f...
            │          └ 'Нет уроков, отдыхай = )'
            └ <function create_img at 0x7f493fb30550>

  File "/home/greench/mlok/creating_images.py", line 86, in create_img
    edit_msg(subject, homework.replace('Оценка', '').replace('Не задано', ''), mark.strip(" "), first_pos, im)
    │        │        │        │                                               │    │           │          └ <PIL.JpegImagePlugin.JpegImageFile image mode=RGB size=789x445 at 0x7F49409D6C40>
    │        │        │        │                                               │    │           └ (260, 60)
    │        │        │        │                                               │    └ <method 'strip' of 'str' objects>
    │        │        │        │                                               └ 'е'
    │        │        │        └ <method 'replace' of 'str' objects>
    │        │        └ ''
    │        └ ''
    └ <function edit_msg at 0x7f493fb45ee0>

  File "/home/greench/mlok/creating_images.py", line 64, in edit_msg
    if int(mark) == 2:
           └ 'е'

ValueError: invalid literal for int() with base 10: 'е'
2022-11-27 17:02:52.648 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-27 17:02:58.612 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-27 17:02:58.613 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-27 17:03:47.580 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-27 17:03:53.223 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-27 17:03:53.225 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-27 17:04:59.685 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-27 17:05:05.699 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-27 17:05:05.701 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-27 17:05:13.195 | ERROR    | vkbottle.exception_factory.error_handler.error_handler:handle:48 - invalid literal for int() with base 10: 'е'
Traceback (most recent call last):

  File "school_bot.py", line 1164, in <module>
    bot.run_forever()
    │   └ <function Bot.run_forever at 0x7fd8e609f700>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7fd8e58d8250>

  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/framework/bot/bot.py", line 92, in run_forever
    self.loop_wrapper.run_forever(self.loop)
    │    │            │           │    └ <property object at 0x7fd8e5b01720>
    │    │            │           └ <vkbottle.framework.bot.bot.Bot object at 0x7fd8e58d8250>
    │    │            └ <function LoopWrapper.run_forever at 0x7fd8e3bd4ee0>
    │    └ <vkbottle.tools.dev.loop_wrapper.LoopWrapper object at 0x7fd8e58d8460>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7fd8e58d8250>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/tools/dev/loop_wrapper.py", line 50, in run_forever
    loop.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7fd8e958edc0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7fd8e9591940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7fd8ed06a280>
    └ <Handle <TaskWakeupMethWrapper object at 0x7fd8e68af160>(<Future finished result=None>)>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x7fd8e68af160>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x7fd8e68af160>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x7fd8e68af160>(<Future finished result=None>)>
> File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/base.py", line 22, in route
    await view.handle_event(event, ctx_api, self.state_dispenser)
          │    │            │      │        │    └ <vkbottle.dispatch.dispenser.builtin.BuiltinStateDispenser object at 0x7fd8e58d8610>
          │    │            │      │        └ <vkbottle.dispatch.base.Router object at 0x7fd8e58d8700>
          │    │            │      └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
          │    │            └ {'group_id': 215988653, 'type': 'message_new', 'event_id': 'a93dbb9bba1a5eeb7b9e96acf26348d9128cb8ac', 'v': '5.131', 'object'...
          │    └ <function ABCMessageView.handle_event at 0x7fd8e3f04430>
          └ <BotMessageView handlers=[<FromFuncHandler logged_menu blocking=True rules=(<PeerRule>, <PayloadRule>)>, <FromFuncHandler hom...
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/views/abc/message.py", line 73, in handle_event
    handler_response = await handler.handle(message, **context_variables)
                             │       │      │          └ {}
                             │       │      └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13268, date=1669557912, deleted=None, f...
                             │       └ <function FromFuncHandler.handle at 0x7fd8e3f5ff70>
                             └ <FromFuncHandler homework_day blocking=True rules=(<PayloadRule>,)>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/handlers/from_func_handler.py", line 32, in handle
    return await self.handler(event, **acceptable_context)
                 │    │       │        └ {}
                 │    │       └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13268, date=1669557912, deleted=None, f...
                 │    └ <function homework_day at 0x7fd8e6ffc0d0>
                 └ <FromFuncHandler homework_day blocking=True rules=(<PayloadRule>,)>

  File "school_bot.py", line 247, in homework_day
    image = create_img(res, message.from_id)
            │          │    │       └ 359707430
            │          │    └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13268, date=1669557912, deleted=None, f...
            │          └ 'Нет уроков, отдыхай = )'
            └ <function create_img at 0x7fd8e61b0550>

  File "/home/greench/mlok/creating_images.py", line 86, in create_img
    edit_msg(subject, homework.replace('Оценка', '').replace('Не задано', ''), mark.strip(" "), first_pos, im)
    │        │        │        │                                               │    │           │          └ <PIL.JpegImagePlugin.JpegImageFile image mode=RGB size=789x445 at 0x7FD8E68CA340>
    │        │        │        │                                               │    │           └ (260, 60)
    │        │        │        │                                               │    └ <method 'strip' of 'str' objects>
    │        │        │        │                                               └ 'е'
    │        │        │        └ <method 'replace' of 'str' objects>
    │        │        └ ''
    │        └ ''
    └ <function edit_msg at 0x7fd8e61aaee0>

  File "/home/greench/mlok/creating_images.py", line 64, in edit_msg
    if int(mark) == 2:
           └ 'е'

ValueError: invalid literal for int() with base 10: 'е'
2022-11-27 17:06:03.565 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-27 17:06:08.793 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-27 17:06:08.795 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-27 17:06:10.338 | ERROR    | vkbottle.exception_factory.error_handler.error_handler:handle:48 - invalid literal for int() with base 10: 'е'
Traceback (most recent call last):

  File "school_bot.py", line 1165, in <module>
    bot.run_forever()
    │   └ <function Bot.run_forever at 0x7f65a13e0700>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7f65a1385520>

  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/framework/bot/bot.py", line 92, in run_forever
    self.loop_wrapper.run_forever(self.loop)
    │    │            │           │    └ <property object at 0x7f65a0d20040>
    │    │            │           └ <vkbottle.framework.bot.bot.Bot object at 0x7f65a1385520>
    │    │            └ <function LoopWrapper.run_forever at 0x7f659ef25ee0>
    │    └ <vkbottle.tools.dev.loop_wrapper.LoopWrapper object at 0x7f65a1385730>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7f65a1385520>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/tools/dev/loop_wrapper.py", line 50, in run_forever
    loop.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f65a48dfdc0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f65a48e2940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f65a83bc280>
    └ <Handle <TaskWakeupMethWrapper object at 0x7f65a18583d0>(<Future finished result=None>)>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x7f65a18583d0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x7f65a18583d0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x7f65a18583d0>(<Future finished result=None>)>
> File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/base.py", line 22, in route
    await view.handle_event(event, ctx_api, self.state_dispenser)
          │    │            │      │        │    └ <vkbottle.dispatch.dispenser.builtin.BuiltinStateDispenser object at 0x7f65a13858e0>
          │    │            │      │        └ <vkbottle.dispatch.base.Router object at 0x7f65a13859d0>
          │    │            │      └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
          │    │            └ {'group_id': 215988653, 'type': 'message_new', 'event_id': '08c31411f528aa5af1ac708620aac4c2c1ebc972', 'v': '5.131', 'object'...
          │    └ <function ABCMessageView.handle_event at 0x7f659f255430>
          └ <BotMessageView handlers=[<FromFuncHandler logged_menu blocking=True rules=(<PeerRule>, <PayloadRule>)>, <FromFuncHandler hom...
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/views/abc/message.py", line 73, in handle_event
    handler_response = await handler.handle(message, **context_variables)
                             │       │      │          └ {}
                             │       │      └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13270, date=1669557969, deleted=None, f...
                             │       └ <function FromFuncHandler.handle at 0x7f659f2b0f70>
                             └ <FromFuncHandler homework_day blocking=True rules=(<PayloadRule>,)>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/handlers/from_func_handler.py", line 32, in handle
    return await self.handler(event, **acceptable_context)
                 │    │       │        └ {}
                 │    │       └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13270, date=1669557969, deleted=None, f...
                 │    └ <function homework_day at 0x7f65a13700d0>
                 └ <FromFuncHandler homework_day blocking=True rules=(<PayloadRule>,)>

  File "school_bot.py", line 248, in homework_day
    image = create_img(res, message.from_id)
            │          │    │       └ 359707430
            │          │    └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13270, date=1669557969, deleted=None, f...
            │          └ 'Нет уроков, отдыхай = )'
            └ <function create_img at 0x7f65a0b1d550>

  File "/home/greench/mlok/creating_images.py", line 86, in create_img
    edit_msg(subject, homework.replace('Оценка', '').replace('Не задано', ''), mark.strip(" "), first_pos, im)
    │        │        │        │                                               │    │           │          └ <PIL.JpegImagePlugin.JpegImageFile image mode=RGB size=789x445 at 0x7F65A23D7370>
    │        │        │        │                                               │    │           └ (260, 60)
    │        │        │        │                                               │    └ <method 'strip' of 'str' objects>
    │        │        │        │                                               └ 'е'
    │        │        │        └ <method 'replace' of 'str' objects>
    │        │        └ ''
    │        └ ''
    └ <function edit_msg at 0x7f65a0b0aee0>

  File "/home/greench/mlok/creating_images.py", line 64, in edit_msg
    if int(mark) == 2:
           └ 'е'

ValueError: invalid literal for int() with base 10: 'е'
2022-11-27 17:07:15.887 | ERROR    | vkbottle.exception_factory.error_handler.error_handler:handle:48 - invalid literal for int() with base 10: 'е'
Traceback (most recent call last):

  File "school_bot.py", line 1165, in <module>
    bot.run_forever()
    │   └ <function Bot.run_forever at 0x7f65a13e0700>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7f65a1385520>

  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/framework/bot/bot.py", line 92, in run_forever
    self.loop_wrapper.run_forever(self.loop)
    │    │            │           │    └ <property object at 0x7f65a0d20040>
    │    │            │           └ <vkbottle.framework.bot.bot.Bot object at 0x7f65a1385520>
    │    │            └ <function LoopWrapper.run_forever at 0x7f659ef25ee0>
    │    └ <vkbottle.tools.dev.loop_wrapper.LoopWrapper object at 0x7f65a1385730>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7f65a1385520>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/tools/dev/loop_wrapper.py", line 50, in run_forever
    loop.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f65a48dfdc0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f65a48e2940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f65a83bc280>
    └ <Handle <TaskWakeupMethWrapper object at 0x7f65a1858340>(<Future finished result=None>)>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x7f65a1858340>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x7f65a1858340>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x7f65a1858340>(<Future finished result=None>)>
> File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/base.py", line 22, in route
    await view.handle_event(event, ctx_api, self.state_dispenser)
          │    │            │      │        │    └ <vkbottle.dispatch.dispenser.builtin.BuiltinStateDispenser object at 0x7f65a13858e0>
          │    │            │      │        └ <vkbottle.dispatch.base.Router object at 0x7f65a13859d0>
          │    │            │      └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
          │    │            └ {'group_id': 215988653, 'type': 'message_new', 'event_id': 'e3c066af586408fd8864478253b2140f3a66bdc7', 'v': '5.131', 'object'...
          │    └ <function ABCMessageView.handle_event at 0x7f659f255430>
          └ <BotMessageView handlers=[<FromFuncHandler logged_menu blocking=True rules=(<PeerRule>, <PayloadRule>)>, <FromFuncHandler hom...
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/views/abc/message.py", line 73, in handle_event
    handler_response = await handler.handle(message, **context_variables)
                             │       │      │          └ {}
                             │       │      └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13286, date=1669558035, deleted=None, f...
                             │       └ <function FromFuncHandler.handle at 0x7f659f2b0f70>
                             └ <FromFuncHandler homework_day blocking=True rules=(<PayloadRule>,)>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/handlers/from_func_handler.py", line 32, in handle
    return await self.handler(event, **acceptable_context)
                 │    │       │        └ {}
                 │    │       └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13286, date=1669558035, deleted=None, f...
                 │    └ <function homework_day at 0x7f65a13700d0>
                 └ <FromFuncHandler homework_day blocking=True rules=(<PayloadRule>,)>

  File "school_bot.py", line 248, in homework_day
    image = create_img(res, message.from_id)
            │          │    │       └ 359707430
            │          │    └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13286, date=1669558035, deleted=None, f...
            │          └ 'Нет уроков, отдыхай = )'
            └ <function create_img at 0x7f65a0b1d550>

  File "/home/greench/mlok/creating_images.py", line 86, in create_img
    edit_msg(subject, homework.replace('Оценка', '').replace('Не задано', ''), mark.strip(" "), first_pos, im)
    │        │        │        │                                               │    │           │          └ <PIL.JpegImagePlugin.JpegImageFile image mode=RGB size=789x445 at 0x7F65A23D7430>
    │        │        │        │                                               │    │           └ (260, 60)
    │        │        │        │                                               │    └ <method 'strip' of 'str' objects>
    │        │        │        │                                               └ 'е'
    │        │        │        └ <method 'replace' of 'str' objects>
    │        │        └ ''
    │        └ ''
    └ <function edit_msg at 0x7f65a0b0aee0>

  File "/home/greench/mlok/creating_images.py", line 64, in edit_msg
    if int(mark) == 2:
           └ 'е'

ValueError: invalid literal for int() with base 10: 'е'
2022-11-27 17:07:59.212 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-27 17:08:04.959 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-27 17:08:04.960 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-27 17:08:08.975 | ERROR    | vkbottle.exception_factory.error_handler.error_handler:handle:48 - invalid literal for int() with base 10: 'е'
Traceback (most recent call last):

  File "school_bot.py", line 1166, in <module>
    bot.run_forever()
    │   └ <function Bot.run_forever at 0x7f811eec5700>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7f811e324520>

  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/framework/bot/bot.py", line 92, in run_forever
    self.loop_wrapper.run_forever(self.loop)
    │    │            │           │    └ <property object at 0x7f811e4495e0>
    │    │            │           └ <vkbottle.framework.bot.bot.Bot object at 0x7f811e324520>
    │    │            └ <function LoopWrapper.run_forever at 0x7f811c60aee0>
    │    └ <vkbottle.tools.dev.loop_wrapper.LoopWrapper object at 0x7f811e324730>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7f811e324520>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/tools/dev/loop_wrapper.py", line 50, in run_forever
    loop.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f8121fc4dc0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f8121fc7940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f8125aa1280>
    └ <Handle <TaskWakeupMethWrapper object at 0x7f811e4583d0>(<Future finished result=None>)>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x7f811e4583d0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x7f811e4583d0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x7f811e4583d0>(<Future finished result=None>)>
> File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/base.py", line 22, in route
    await view.handle_event(event, ctx_api, self.state_dispenser)
          │    │            │      │        │    └ <vkbottle.dispatch.dispenser.builtin.BuiltinStateDispenser object at 0x7f811e3248e0>
          │    │            │      │        └ <vkbottle.dispatch.base.Router object at 0x7f811e3249d0>
          │    │            │      └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
          │    │            └ {'group_id': 215988653, 'type': 'message_new', 'event_id': 'e9e336d42a79e9b3d3b0b3f2ae235966b91834e6', 'v': '5.131', 'object'...
          │    └ <function ABCMessageView.handle_event at 0x7f811c93a430>
          └ <BotMessageView handlers=[<FromFuncHandler logged_menu blocking=True rules=(<PeerRule>, <PayloadRule>)>, <FromFuncHandler hom...
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/views/abc/message.py", line 73, in handle_event
    handler_response = await handler.handle(message, **context_variables)
                             │       │      │          └ {}
                             │       │      └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13288, date=1669558088, deleted=None, f...
                             │       └ <function FromFuncHandler.handle at 0x7f811c995f70>
                             └ <FromFuncHandler homework_day blocking=True rules=(<PayloadRule>,)>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/handlers/from_func_handler.py", line 32, in handle
    return await self.handler(event, **acceptable_context)
                 │    │       │        └ {}
                 │    │       └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13288, date=1669558088, deleted=None, f...
                 │    └ <function homework_day at 0x7f811f4760d0>
                 └ <FromFuncHandler homework_day blocking=True rules=(<PayloadRule>,)>

  File "school_bot.py", line 249, in homework_day
    image = create_img(res, message.from_id)
            │          │    │       └ 359707430
            │          │    └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13288, date=1669558088, deleted=None, f...
            │          └ 'Нет уроков, отдыхай = )'
            └ <function create_img at 0x7f811e82d550>

  File "/home/greench/mlok/creating_images.py", line 86, in create_img
    edit_msg(subject, homework.replace('Оценка', '').replace('Не задано', ''), mark.strip(" "), first_pos, im)
    │        │        │        │                                               │    │           │          └ <PIL.JpegImagePlugin.JpegImageFile image mode=RGB size=789x445 at 0x7F811E48D370>
    │        │        │        │                                               │    │           └ (260, 60)
    │        │        │        │                                               │    └ <method 'strip' of 'str' objects>
    │        │        │        │                                               └ 'е'
    │        │        │        └ <method 'replace' of 'str' objects>
    │        │        └ ''
    │        └ ''
    └ <function edit_msg at 0x7f811e833ee0>

  File "/home/greench/mlok/creating_images.py", line 64, in edit_msg
    if int(mark) == 2:
           └ 'е'

ValueError: invalid literal for int() with base 10: 'е'
2022-11-27 17:08:59.831 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-27 17:09:06.458 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-27 17:09:06.460 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-27 17:09:12.414 | ERROR    | vkbottle.exception_factory.error_handler.error_handler:handle:48 - invalid literal for int() with base 10: 'е'
Traceback (most recent call last):

  File "school_bot.py", line 1166, in <module>
    bot.run_forever()
    │   └ <function Bot.run_forever at 0x7f1da6299700>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7f1da6c183d0>

  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/framework/bot/bot.py", line 92, in run_forever
    self.loop_wrapper.run_forever(self.loop)
    │    │            │           │    └ <property object at 0x7f1da68e10e0>
    │    │            │           └ <vkbottle.framework.bot.bot.Bot object at 0x7f1da6c183d0>
    │    │            └ <function LoopWrapper.run_forever at 0x7f1da47c8ee0>
    │    └ <vkbottle.tools.dev.loop_wrapper.LoopWrapper object at 0x7f1da6c185e0>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7f1da6c183d0>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/tools/dev/loop_wrapper.py", line 50, in run_forever
    loop.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f1daa182dc0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f1daa185940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f1dadc5f280>
    └ <Handle <TaskWakeupMethWrapper object at 0x7f1da7607280>(<Future finished result=None>)>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x7f1da7607280>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x7f1da7607280>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x7f1da7607280>(<Future finished result=None>)>
> File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/base.py", line 22, in route
    await view.handle_event(event, ctx_api, self.state_dispenser)
          │    │            │      │        │    └ <vkbottle.dispatch.dispenser.builtin.BuiltinStateDispenser object at 0x7f1da6c18790>
          │    │            │      │        └ <vkbottle.dispatch.base.Router object at 0x7f1da6c18880>
          │    │            │      └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
          │    │            └ {'group_id': 215988653, 'type': 'message_new', 'event_id': 'fc3cd4cc1114aec81832bee0f94faf18f3561f32', 'v': '5.131', 'object'...
          │    └ <function ABCMessageView.handle_event at 0x7f1da4af8430>
          └ <BotMessageView handlers=[<FromFuncHandler logged_menu blocking=True rules=(<PeerRule>, <PayloadRule>)>, <FromFuncHandler hom...
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/views/abc/message.py", line 73, in handle_event
    handler_response = await handler.handle(message, **context_variables)
                             │       │      │          └ {}
                             │       │      └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13290, date=1669558152, deleted=None, f...
                             │       └ <function FromFuncHandler.handle at 0x7f1da4b53f70>
                             └ <FromFuncHandler homework_day blocking=True rules=(<PayloadRule>,)>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/handlers/from_func_handler.py", line 32, in handle
    return await self.handler(event, **acceptable_context)
                 │    │       │        └ {}
                 │    │       └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13290, date=1669558152, deleted=None, f...
                 │    └ <function homework_day at 0x7f1da6c340d0>
                 └ <FromFuncHandler homework_day blocking=True rules=(<PayloadRule>,)>

  File "school_bot.py", line 249, in homework_day
    image = create_img(res, message.from_id)
            │          │    │       └ 359707430
            │          │    └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13290, date=1669558152, deleted=None, f...
            │          └ 'Нет уроков, отдыхай = )'
            └ <function create_img at 0x7f1da63b7550>

  File "/home/greench/mlok/creating_images.py", line 86, in create_img
    edit_msg(subject, homework.replace('Оценка', '').replace('Не задано', ''), mark.strip(" "), first_pos, im)
    │        │        │        │                                               │    │           │          └ <PIL.JpegImagePlugin.JpegImageFile image mode=RGB size=789x445 at 0x7F1DA70FF220>
    │        │        │        │                                               │    │           └ (260, 60)
    │        │        │        │                                               │    └ <method 'strip' of 'str' objects>
    │        │        │        │                                               └ 'е'
    │        │        │        └ <method 'replace' of 'str' objects>
    │        │        └ ''
    │        └ ''
    └ <function edit_msg at 0x7f1da6da4ee0>

  File "/home/greench/mlok/creating_images.py", line 64, in edit_msg
    if int(mark) == 2:
           └ 'е'

ValueError: invalid literal for int() with base 10: 'е'
2022-11-27 17:10:12.634 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-27 17:10:18.533 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-27 17:10:18.534 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-27 17:27:37.040 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-27 17:27:42.422 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-27 17:27:42.424 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-27 17:29:30.825 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-27 17:29:36.349 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-27 17:29:36.350 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-27 17:34:35.346 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-27 17:34:40.575 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-27 17:34:40.577 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-27 17:42:39.383 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-27 17:42:45.566 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-27 17:42:45.567 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-27 17:44:05.277 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-27 17:44:10.908 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-27 17:44:10.910 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-27 17:44:49.907 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-27 17:44:55.376 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-27 17:44:55.378 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-27 17:47:06.591 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-27 17:47:11.848 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-27 17:47:11.849 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-27 17:52:56.458 | INFO     | __main__:lessons_attachment:633 - {'id': 147896789, 'assignmentName': 'Смотрите подробности для учеников', 'activityName': None, 'problemName': None, 'subjectGroup': {'id': 3272062, 'name': '11*/Физика/11а'}, 'teachers': [{'id': 577974, 'name': 'Марченко Анна Васильевна'}], 'productId': None, 'isDeleted': False, 'weight': 10, 'date': '2022-11-24T00:00:00', 'description': 'Переменный ток и виды сопротивлений в цепи переменного тока - по конспекту в тетради', 'attachments': []} 359707430
2022-11-27 17:53:32.447 | INFO     | __main__:lessons_attachment:633 - {'id': 146433630, 'assignmentName': 'выступление по тезисам с Актугановой по Конюкову', 'activityName': None, 'problemName': None, 'subjectGroup': {'id': 3242307, 'name': '11*/Индивидуальный проект/11а'}, 'teachers': [{'id': 1193981, 'name': 'Горюнова Юлия Николаевна'}], 'productId': None, 'isDeleted': False, 'weight': 10, 'date': '2022-11-14T00:00:00', 'description': None, 'attachments': [{'id': 4906767, 'name': 'snimok-ekrana.png', 'originalFileName': 'snimok-ekrana.png', 'description': None}, {'id': 4906768, 'name': 'ОСПРИЯТИЕ ОТЕЧЕСТВЕННЫХ И ЗАРУБЕЖНЫХ БРЕНДОВ РОССИЙСКИМИ ПОТРЕБИТЕЛЯМИ.docx', 'originalFileName': 'ОСПРИЯТИЕ ОТЕЧЕСТВЕННЫХ И ЗАРУБЕЖНЫХ БРЕНДОВ РОССИЙСКИМИ ПОТРЕБИТЕЛЯМИ.docx', 'description': None}]} 359707430
2022-11-27 18:36:03.312 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-27 18:36:09.199 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-27 18:36:09.200 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-27 18:36:36.014 | INFO     | __main__:lessons_attachment:633 - {'id': 146433630, 'assignmentName': 'выступление по тезисам с Актугановой по Конюкову', 'activityName': None, 'problemName': None, 'subjectGroup': {'id': 3242307, 'name': '11*/Индивидуальный проект/11а'}, 'teachers': [{'id': 1193981, 'name': 'Горюнова Юлия Николаевна'}], 'productId': None, 'isDeleted': False, 'weight': 10, 'date': '2022-11-14T00:00:00', 'description': None, 'attachments': [{'id': 4906767, 'name': 'snimok-ekrana.png', 'originalFileName': 'snimok-ekrana.png', 'description': None}, {'id': 4906768, 'name': 'ОСПРИЯТИЕ ОТЕЧЕСТВЕННЫХ И ЗАРУБЕЖНЫХ БРЕНДОВ РОССИЙСКИМИ ПОТРЕБИТЕЛЯМИ.docx', 'originalFileName': 'ОСПРИЯТИЕ ОТЕЧЕСТВЕННЫХ И ЗАРУБЕЖНЫХ БРЕНДОВ РОССИЙСКИМИ ПОТРЕБИТЕЛЯМИ.docx', 'description': None}]} 359707430
2022-11-27 18:36:36.015 | ERROR    | vkbottle.exception_factory.error_handler.error_handler:handle:48 - list indices must be integers or slices, not str
Traceback (most recent call last):

  File "school_bot.py", line 1170, in <module>
    bot.run_forever()
    │   └ <function Bot.run_forever at 0x7fe97df508b0>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7fe97e409250>

  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/framework/bot/bot.py", line 92, in run_forever
    self.loop_wrapper.run_forever(self.loop)
    │    │            │           │    └ <property object at 0x7fe97e2cfef0>
    │    │            │           └ <vkbottle.framework.bot.bot.Bot object at 0x7fe97e409250>
    │    │            └ <function LoopWrapper.run_forever at 0x7fe97c4940d0>
    │    └ <vkbottle.tools.dev.loop_wrapper.LoopWrapper object at 0x7fe97e409460>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7fe97e409250>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/tools/dev/loop_wrapper.py", line 50, in run_forever
    loop.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7fe981e48f70>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7fe981e4aaf0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7fe985925430>
    └ <Handle <TaskStepMethWrapper object at 0x7fe97f5ebd60>()>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x7fe97f5ebd60>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x7fe97f5ebd60>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x7fe97f5ebd60>()>
> File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/base.py", line 22, in route
    await view.handle_event(event, ctx_api, self.state_dispenser)
          │    │            │      │        │    └ <vkbottle.dispatch.dispenser.builtin.BuiltinStateDispenser object at 0x7fe97e409610>
          │    │            │      │        └ <vkbottle.dispatch.base.Router object at 0x7fe97e409700>
          │    │            │      └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
          │    │            └ {'group_id': 215988653, 'type': 'message_new', 'event_id': 'a13c9a23cee7f359ef04edc848bf18226e2163d9', 'v': '5.131', 'object'...
          │    └ <function ABCMessageView.handle_event at 0x7fe97c83b5e0>
          └ <BotMessageView handlers=[<FromFuncHandler logged_menu blocking=True rules=(<PeerRule>, <PayloadRule>)>, <FromFuncHandler hom...
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/views/abc/message.py", line 73, in handle_event
    handler_response = await handler.handle(message, **context_variables)
                             │       │      │          └ {}
                             │       │      └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13564, date=1669563394, deleted=None, f...
                             │       └ <function FromFuncHandler.handle at 0x7fe97c825160>
                             └ <FromFuncHandler lessons_attachment blocking=True rules=(<PeerRule>, <PayloadRule>)>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/handlers/from_func_handler.py", line 32, in handle
    return await self.handler(event, **acceptable_context)
                 │    │       │        └ {}
                 │    │       └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13564, date=1669563394, deleted=None, f...
                 │    └ <function lessons_attachment at 0x7fe97e418940>
                 └ <FromFuncHandler lessons_attachment blocking=True rules=(<PeerRule>, <PayloadRule>)>

  File "school_bot.py", line 641, in lessons_attachment
    attachments = await ns.download_attachment_as_bytes(family['attachments'])
                        │  │                            └ {'id': 146433630, 'assignmentName': 'выступление по тезисам с Актугановой по Конюкову', 'activityName': None, 'problemName': ...
                        │  └ <function NetSchoolAPI.download_attachment_as_bytes at 0x7fe97e422a60>
                        └ <netschoolapi.netschoolapi.NetSchoolAPI object at 0x7fe97fa76f10>

  File "/home/greench/mlok/netschoolapi/netschoolapi.py", line 139, in download_attachment_as_bytes
    return (await self._client.get(f'webapi/attachments/{attachment["id"]}')).content
                  │    │       └ <function AsyncClient.get at 0x7fe97e28c9d0>
                  │    └ <httpx.AsyncClient object at 0x7fe97fa76430>
                  └ <netschoolapi.netschoolapi.NetSchoolAPI object at 0x7fe97fa76f10>

TypeError: list indices must be integers or slices, not str
2022-11-27 18:37:21.630 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-27 18:37:55.947 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-27 18:37:55.948 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-27 18:38:15.868 | INFO     | __main__:lessons_attachment:633 - {'id': 146433630, 'assignmentName': 'выступление по тезисам с Актугановой по Конюкову', 'activityName': None, 'problemName': None, 'subjectGroup': {'id': 3242307, 'name': '11*/Индивидуальный проект/11а'}, 'teachers': [{'id': 1193981, 'name': 'Горюнова Юлия Николаевна'}], 'productId': None, 'isDeleted': False, 'weight': 10, 'date': '2022-11-14T00:00:00', 'description': None, 'attachments': [{'id': 4906767, 'name': 'snimok-ekrana.png', 'originalFileName': 'snimok-ekrana.png', 'description': None}, {'id': 4906768, 'name': 'ОСПРИЯТИЕ ОТЕЧЕСТВЕННЫХ И ЗАРУБЕЖНЫХ БРЕНДОВ РОССИЙСКИМИ ПОТРЕБИТЕЛЯМИ.docx', 'originalFileName': 'ОСПРИЯТИЕ ОТЕЧЕСТВЕННЫХ И ЗАРУБЕЖНЫХ БРЕНДОВ РОССИЙСКИМИ ПОТРЕБИТЕЛЯМИ.docx', 'description': None}]} 359707430
2022-11-27 18:38:15.869 | ERROR    | vkbottle.exception_factory.error_handler.error_handler:handle:48 - list indices must be integers or slices, not str
Traceback (most recent call last):

  File "school_bot.py", line 1170, in <module>
    bot.run_forever()
    │   └ <function Bot.run_forever at 0x7fc78e3708b0>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7fc78e8571c0>

  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/framework/bot/bot.py", line 92, in run_forever
    self.loop_wrapper.run_forever(self.loop)
    │    │            │           │    └ <property object at 0x7fc78e740720>
    │    │            │           └ <vkbottle.framework.bot.bot.Bot object at 0x7fc78e8571c0>
    │    │            └ <function LoopWrapper.run_forever at 0x7fc78c8af0d0>
    │    └ <vkbottle.tools.dev.loop_wrapper.LoopWrapper object at 0x7fc78e8573d0>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7fc78e8571c0>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/tools/dev/loop_wrapper.py", line 50, in run_forever
    loop.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7fc792262f70>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7fc792264af0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7fc795d3f430>
    └ <Handle <TaskStepMethWrapper object at 0x7fc78ef69cd0>()>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x7fc78ef69cd0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x7fc78ef69cd0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x7fc78ef69cd0>()>
> File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/base.py", line 22, in route
    await view.handle_event(event, ctx_api, self.state_dispenser)
          │    │            │      │        │    └ <vkbottle.dispatch.dispenser.builtin.BuiltinStateDispenser object at 0x7fc78e857580>
          │    │            │      │        └ <vkbottle.dispatch.base.Router object at 0x7fc78e857670>
          │    │            │      └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
          │    │            └ {'group_id': 215988653, 'type': 'message_new', 'event_id': 'b7ff7f5a99a7823ac8fcab645c818fbf26223478', 'v': '5.131', 'object'...
          │    └ <function ABCMessageView.handle_event at 0x7fc78cbd65e0>
          └ <BotMessageView handlers=[<FromFuncHandler logged_menu blocking=True rules=(<PeerRule>, <PayloadRule>)>, <FromFuncHandler hom...
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/views/abc/message.py", line 73, in handle_event
    handler_response = await handler.handle(message, **context_variables)
                             │       │      │          └ {}
                             │       │      └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13584, date=1669563494, deleted=None, f...
                             │       └ <function FromFuncHandler.handle at 0x7fc78cc40160>
                             └ <FromFuncHandler lessons_attachment blocking=True rules=(<PeerRule>, <PayloadRule>)>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/handlers/from_func_handler.py", line 32, in handle
    return await self.handler(event, **acceptable_context)
                 │    │       │        └ {}
                 │    │       └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13584, date=1669563494, deleted=None, f...
                 │    └ <function lessons_attachment at 0x7fc78e854940>
                 └ <FromFuncHandler lessons_attachment blocking=True rules=(<PeerRule>, <PayloadRule>)>

  File "school_bot.py", line 641, in lessons_attachment
    attachments = await ns.download_attachment_as_bytes(family['attachments'])
                        │  │                            └ {'id': 146433630, 'assignmentName': 'выступление по тезисам с Актугановой по Конюкову', 'activityName': None, 'problemName': ...
                        │  └ <function NetSchoolAPI.download_attachment_as_bytes at 0x7fc78e840a60>
                        └ <netschoolapi.netschoolapi.NetSchoolAPI object at 0x7fc78ef70d30>

  File "/home/greench/mlok/netschoolapi/netschoolapi.py", line 139, in download_attachment_as_bytes
    return (await self._client.get(f'webapi/attachments/{attachment["id"]}')).content
                  │    │       └ <function AsyncClient.get at 0x7fc78e7b69d0>
                  │    └ <httpx.AsyncClient object at 0x7fc78ef70a90>
                  └ <netschoolapi.netschoolapi.NetSchoolAPI object at 0x7fc78ef70d30>

TypeError: list indices must be integers or slices, not str
2022-11-27 18:38:38.467 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-27 18:40:18.034 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-27 18:40:18.036 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-27 18:40:37.869 | INFO     | __main__:lessons_attachment:633 - {'id': 146433630, 'assignmentName': 'выступление по тезисам с Актугановой по Конюкову', 'activityName': None, 'problemName': None, 'subjectGroup': {'id': 3242307, 'name': '11*/Индивидуальный проект/11а'}, 'teachers': [{'id': 1193981, 'name': 'Горюнова Юлия Николаевна'}], 'productId': None, 'isDeleted': False, 'weight': 10, 'date': '2022-11-14T00:00:00', 'description': None, 'attachments': [{'id': 4906767, 'name': 'snimok-ekrana.png', 'originalFileName': 'snimok-ekrana.png', 'description': None}, {'id': 4906768, 'name': 'ОСПРИЯТИЕ ОТЕЧЕСТВЕННЫХ И ЗАРУБЕЖНЫХ БРЕНДОВ РОССИЙСКИМИ ПОТРЕБИТЕЛЯМИ.docx', 'originalFileName': 'ОСПРИЯТИЕ ОТЕЧЕСТВЕННЫХ И ЗАРУБЕЖНЫХ БРЕНДОВ РОССИЙСКИМИ ПОТРЕБИТЕЛЯМИ.docx', 'description': None}]} 359707430
2022-11-27 18:40:37.871 | ERROR    | vkbottle.exception_factory.error_handler.error_handler:handle:48 - list indices must be integers or slices, not str
Traceback (most recent call last):

  File "school_bot.py", line 1170, in <module>
    bot.run_forever()
    │   └ <function Bot.run_forever at 0x7f74a9b358b0>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7f74a8f50640>

  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/framework/bot/bot.py", line 92, in run_forever
    self.loop_wrapper.run_forever(self.loop)
    │    │            │           │    └ <property object at 0x7f74a9622130>
    │    │            │           └ <vkbottle.framework.bot.bot.Bot object at 0x7f74a8f50640>
    │    │            └ <function LoopWrapper.run_forever at 0x7f74a724f0d0>
    │    └ <vkbottle.tools.dev.loop_wrapper.LoopWrapper object at 0x7f74a8f50850>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7f74a8f50640>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/tools/dev/loop_wrapper.py", line 50, in run_forever
    loop.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f74acc03f70>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f74acc05af0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f74b06e0430>
    └ <Handle <TaskStepMethWrapper object at 0x7f74aa57f130>()>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x7f74aa57f130>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x7f74aa57f130>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x7f74aa57f130>()>
> File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/base.py", line 22, in route
    await view.handle_event(event, ctx_api, self.state_dispenser)
          │    │            │      │        │    └ <vkbottle.dispatch.dispenser.builtin.BuiltinStateDispenser object at 0x7f74a8f50a00>
          │    │            │      │        └ <vkbottle.dispatch.base.Router object at 0x7f74a8f50af0>
          │    │            │      └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
          │    │            └ {'group_id': 215988653, 'type': 'message_new', 'event_id': '2ffe34a0055226230d261b296e6890d99f98656c', 'v': '5.131', 'object'...
          │    └ <function ABCMessageView.handle_event at 0x7f74a75f55e0>
          └ <BotMessageView handlers=[<FromFuncHandler logged_menu blocking=True rules=(<PeerRule>, <PayloadRule>)>, <FromFuncHandler hom...
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/views/abc/message.py", line 73, in handle_event
    handler_response = await handler.handle(message, **context_variables)
                             │       │      │          └ {}
                             │       │      └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13604, date=1669563636, deleted=None, f...
                             │       └ <function FromFuncHandler.handle at 0x7f74a75df160>
                             └ <FromFuncHandler lessons_attachment blocking=True rules=(<PeerRule>, <PayloadRule>)>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/handlers/from_func_handler.py", line 32, in handle
    return await self.handler(event, **acceptable_context)
                 │    │       │        └ {}
                 │    │       └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13604, date=1669563636, deleted=None, f...
                 │    └ <function lessons_attachment at 0x7f74aa31e940>
                 └ <FromFuncHandler lessons_attachment blocking=True rules=(<PeerRule>, <PayloadRule>)>

  File "school_bot.py", line 641, in lessons_attachment
    attachments = await ns.download_attachment_as_bytes(family['attachments']['attachments'])
                        │  │                            └ {'id': 146433630, 'assignmentName': 'выступление по тезисам с Актугановой по Конюкову', 'activityName': None, 'problemName': ...
                        │  └ <function NetSchoolAPI.download_attachment_as_bytes at 0x7f74a8f58a60>
                        └ <netschoolapi.netschoolapi.NetSchoolAPI object at 0x7f74aa549b80>

TypeError: list indices must be integers or slices, not str
2022-11-27 18:41:33.942 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-27 18:42:43.879 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-27 18:42:43.881 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-27 18:43:04.261 | INFO     | __main__:lessons_attachment:633 - {'id': 146433630, 'assignmentName': 'выступление по тезисам с Актугановой по Конюкову', 'activityName': None, 'problemName': None, 'subjectGroup': {'id': 3242307, 'name': '11*/Индивидуальный проект/11а'}, 'teachers': [{'id': 1193981, 'name': 'Горюнова Юлия Николаевна'}], 'productId': None, 'isDeleted': False, 'weight': 10, 'date': '2022-11-14T00:00:00', 'description': None, 'attachments': [{'id': 4906767, 'name': 'snimok-ekrana.png', 'originalFileName': 'snimok-ekrana.png', 'description': None}, {'id': 4906768, 'name': 'ОСПРИЯТИЕ ОТЕЧЕСТВЕННЫХ И ЗАРУБЕЖНЫХ БРЕНДОВ РОССИЙСКИМИ ПОТРЕБИТЕЛЯМИ.docx', 'originalFileName': 'ОСПРИЯТИЕ ОТЕЧЕСТВЕННЫХ И ЗАРУБЕЖНЫХ БРЕНДОВ РОССИЙСКИМИ ПОТРЕБИТЕЛЯМИ.docx', 'description': None}]} 359707430
2022-11-27 18:43:04.262 | ERROR    | vkbottle.exception_factory.error_handler.error_handler:handle:48 - list indices must be integers or slices, not str
Traceback (most recent call last):

  File "school_bot.py", line 1170, in <module>
    bot.run_forever()
    │   └ <function Bot.run_forever at 0x7f0d7cb208b0>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7f0d7c35a190>

  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/framework/bot/bot.py", line 92, in run_forever
    self.loop_wrapper.run_forever(self.loop)
    │    │            │           │    └ <property object at 0x7f0d7ca33130>
    │    │            │           └ <vkbottle.framework.bot.bot.Bot object at 0x7f0d7c35a190>
    │    │            └ <function LoopWrapper.run_forever at 0x7f0d7a65e0d0>
    │    └ <vkbottle.tools.dev.loop_wrapper.LoopWrapper object at 0x7f0d7c35a3a0>
    └ <vkbottle.framework.bot.bot.Bot object at 0x7f0d7c35a190>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/tools/dev/loop_wrapper.py", line 50, in run_forever
    loop.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f0d80013f70>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 570, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f0d80015af0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/base_events.py", line 1859, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f0d83af0430>
    └ <Handle <TaskStepMethWrapper object at 0x7f0d7d341ca0>()>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/asyncio/events.py", line 81, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x7f0d7d341ca0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x7f0d7d341ca0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x7f0d7d341ca0>()>
> File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/base.py", line 22, in route
    await view.handle_event(event, ctx_api, self.state_dispenser)
          │    │            │      │        │    └ <vkbottle.dispatch.dispenser.builtin.BuiltinStateDispenser object at 0x7f0d7c35a550>
          │    │            │      │        └ <vkbottle.dispatch.base.Router object at 0x7f0d7c35a640>
          │    │            │      └ <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
          │    │            └ {'group_id': 215988653, 'type': 'message_new', 'event_id': '8c7f4c2f11499809c2cec1321b2584c3525710b2', 'v': '5.131', 'object'...
          │    └ <function ABCMessageView.handle_event at 0x7f0d7aa055e0>
          └ <BotMessageView handlers=[<FromFuncHandler logged_menu blocking=True rules=(<PeerRule>, <PayloadRule>)>, <FromFuncHandler hom...
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/views/abc/message.py", line 73, in handle_event
    handler_response = await handler.handle(message, **context_variables)
                             │       │      │          └ {}
                             │       │      └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13624, date=1669563782, deleted=None, f...
                             │       └ <function FromFuncHandler.handle at 0x7f0d7a9ef160>
                             └ <FromFuncHandler lessons_attachment blocking=True rules=(<PeerRule>, <PayloadRule>)>
  File "/home/greench/.pyenv/versions/3.8.2/lib/python3.8/site-packages/vkbottle/dispatch/handlers/from_func_handler.py", line 32, in handle
    return await self.handler(event, **acceptable_context)
                 │    │       │        └ {}
                 │    │       └ MessageMin(action=None, admin_author_id=None, attachments=[], conversation_message_id=13624, date=1669563782, deleted=None, f...
                 │    └ <function lessons_attachment at 0x7f0d7c3838b0>
                 └ <FromFuncHandler lessons_attachment blocking=True rules=(<PeerRule>, <PayloadRule>)>

  File "school_bot.py", line 641, in lessons_attachment
    attachments = await ns.download_attachment_as_bytes(family['attachments']['attachments'])
                        │  │                            └ {'id': 146433630, 'assignmentName': 'выступление по тезисам с Актугановой по Конюкову', 'activityName': None, 'problemName': ...
                        │  └ <function NetSchoolAPI.download_attachment_as_bytes at 0x7f0d7db2e9d0>
                        └ <netschoolapi.netschoolapi.NetSchoolAPI object at 0x7f0d7c2e7e80>

TypeError: list indices must be integers or slices, not str
2022-11-27 18:43:27.857 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-27 18:44:57.172 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-27 18:44:57.175 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-27 18:45:14.210 | INFO     | __main__:lessons_attachment:633 - {'id': 146433630, 'assignmentName': 'выступление по тезисам с Актугановой по Конюкову', 'activityName': None, 'problemName': None, 'subjectGroup': {'id': 3242307, 'name': '11*/Индивидуальный проект/11а'}, 'teachers': [{'id': 1193981, 'name': 'Горюнова Юлия Николаевна'}], 'productId': None, 'isDeleted': False, 'weight': 10, 'date': '2022-11-14T00:00:00', 'description': None, 'attachments': [{'id': 4906767, 'name': 'snimok-ekrana.png', 'originalFileName': 'snimok-ekrana.png', 'description': None}, {'id': 4906768, 'name': 'ОСПРИЯТИЕ ОТЕЧЕСТВЕННЫХ И ЗАРУБЕЖНЫХ БРЕНДОВ РОССИЙСКИМИ ПОТРЕБИТЕЛЯМИ.docx', 'originalFileName': 'ОСПРИЯТИЕ ОТЕЧЕСТВЕННЫХ И ЗАРУБЕЖНЫХ БРЕНДОВ РОССИЙСКИМИ ПОТРЕБИТЕЛЯМИ.docx', 'description': None}]} 359707430
2022-11-27 18:46:00.235 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-27 18:46:05.730 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-27 18:46:05.732 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-27 18:46:29.186 | INFO     | __main__:lessons_attachment:632 - {'id': 146433630, 'assignmentName': 'выступление по тезисам с Актугановой по Конюкову', 'activityName': None, 'problemName': None, 'subjectGroup': {'id': 3242307, 'name': '11*/Индивидуальный проект/11а'}, 'teachers': [{'id': 1193981, 'name': 'Горюнова Юлия Николаевна'}], 'productId': None, 'isDeleted': False, 'weight': 10, 'date': '2022-11-14T00:00:00', 'description': None, 'attachments': [{'id': 4906767, 'name': 'snimok-ekrana.png', 'originalFileName': 'snimok-ekrana.png', 'description': None}, {'id': 4906768, 'name': 'ОСПРИЯТИЕ ОТЕЧЕСТВЕННЫХ И ЗАРУБЕЖНЫХ БРЕНДОВ РОССИЙСКИМИ ПОТРЕБИТЕЛЯМИ.docx', 'originalFileName': 'ОСПРИЯТИЕ ОТЕЧЕСТВЕННЫХ И ЗАРУБЕЖНЫХ БРЕНДОВ РОССИЙСКИМИ ПОТРЕБИТЕЛЯМИ.docx', 'description': None}]} 359707430
2022-11-27 18:46:54.723 | INFO     | vkbottle.tools.dev.loop_wrapper:run_forever:52 - Keyboard Interrupt
2022-11-27 18:47:00.468 | INFO     | vkbottle.framework.bot.bot:run_forever:90 - Loop will be ran forever
2022-11-27 18:47:00.469 | INFO     | vkbottle.framework.bot.bot:run_polling:79 - Starting polling for <API token_generator=<<class 'vkbottle.api.token_generator.single.SingleTokenGenerator'>>...>
2022-11-27 18:47:22.044 | INFO     | __main__:lessons_attachment:632 - {'id': 146433630, 'assignmentName': 'выступление по тезисам с Актугановой по Конюкову', 'activityName': None, 'problemName': None, 'subjectGroup': {'id': 3242307, 'name': '11*/Индивидуальный проект/11а'}, 'teachers': [{'id': 1193981, 'name': 'Горюнова Юлия Николаевна'}], 'productId': None, 'isDeleted': False, 'weight': 10, 'date': '2022-11-14T00:00:00', 'description': None, 'attachments': [{'id': 4906767, 'name': 'snimok-ekrana.png', 'originalFileName': 'snimok-ekrana.png', 'description': None}, {'id': 4906768, 'name': 'ОСПРИЯТИЕ ОТЕЧЕСТВЕННЫХ И ЗАРУБЕЖНЫХ БРЕНДОВ РОССИЙСКИМИ ПОТРЕБИТЕЛЯМИ.docx', 'originalFileName': 'ОСПРИЯТИЕ ОТЕЧЕСТВЕННЫХ И ЗАРУБЕЖНЫХ БРЕНДОВ РОССИЙСКИМИ ПОТРЕБИТЕЛЯМИ.docx', 'description': None}]} 359707430
2022-11-27 18:47:44.906 | INFO     | __main__:lessons_attachment:632 - {'id': 147896789, 'assignmentName': 'Смотрите подробности для учеников', 'activityName': None, 'problemName': None, 'subjectGroup': {'id': 3272062, 'name': '11*/Физика/11а'}, 'teachers': [{'id': 577974, 'name': 'Марченко Анна Васильевна'}], 'productId': None, 'isDeleted': False, 'weight': 10, 'date': '2022-11-24T00:00:00', 'description': 'Переменный ток и виды сопротивлений в цепи переменного тока - по конспекту в тетради', 'attachments': []} 359707430
